!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return t}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){if(e){if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function o(e,n,t){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var i=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=u(e)););return e}(e,n);if(i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(t):o.value}})(e,n,t||e)}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&a(e,n)}function a(e,n){return(a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function s(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var t,i=u(e);if(n){var o=u(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return l(this,t)}}function l(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?c(e):n}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,n,t){return n&&d(e.prototype,n),t&&d(e,t),e}function h(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"G/N7":function(t,i,a){"use strict";a.r(i),a.d(i,"ReusableComponentsModule",function(){return _t});var l,d=a("mrSG"),f=a("fXoL"),g=a("ofXK");!function(e){e.INPUT_TEXT="text",e.INPUT_TEXTAREA="textarea",e.INPUT_CHECKBOX="checkbox",e.INPUT_SELECT="select",e.INPUT_RADIO="radio",e.INPUT_MULTI_SELECT="multi_select",e.INPUT_IMAGE="image",e.INPUT_FILE="file",e.INPUT_THUMBNAIL="thumbnail",e.INPUT_ICON="icon",e.TOGGLE_SWITCH="toggle",e.CHIPS="chips"}(l||(l={}));var b=[{component:"rich_text"},{component:"ip_address"},{component:"url"},{component:"file"},{component:"select"},{component:"text"},{component:"select"},{component:"video"},{component:"image"},{component:"enum"},{component:"boolean"}];l.INPUT_CHECKBOX,l.INPUT_FILE,l.INPUT_ICON,l.INPUT_IMAGE,l.INPUT_RADIO,l.INPUT_MULTI_SELECT,l.INPUT_SELECT,l.INPUT_TEXT,l.INPUT_TEXTAREA,l.INPUT_THUMBNAIL,l.TOGGLE_SWITCH,l.CHIPS;var m=a("3Pt+"),v=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";h(this,e),this.identifier=n,this.title=t,this.description=i,this.instructions=o,this.icon=r},y=function(){function e(){h(this,e),this.propertyDataModel={},this._properties={identifier:"",title:"",description:"",instructions:"",icon:""}}return p(e,[{key:"getProperties",value:function(){return Object.values(this.propertyTransfoermer())}},{key:"onPropertyChange",value:function(e){e.property_identifier in this._properties&&(this._properties[e.property_identifier]=e.property_default_value)}},{key:"propertyTransfoermer",value:function(){var e={property_identifier:"title",property_name:"Title",property_tyoe:l.INPUT_TEXT,property_default_value:this._properties.title},n={property_identifier:"description",property_name:"Description",property_tyoe:l.INPUT_TEXTAREA,property_default_value:this._properties.description},t={property_identifier:"identifier",property_name:"Identifier",property_tyoe:l.INPUT_TEXT,property_default_value:this._properties.identifier},i={property_identifier:"instructions",property_name:"Instructions",property_tyoe:l.INPUT_TEXTAREA,property_default_value:this._properties.instructions};return{identifier:t,icon:{property_identifier:"icon",property_name:"Icon",property_tyoe:l.INPUT_ICON,property_default_value:this._properties.icon},title:e,description:n,instructions:i}}},{key:"propertyReducer",value:function(){return[]}}]),e}(),_=function(e){r(t,e);var n=s(t);function t(e){var i;return h(this,t),(i=n.call(this)).fb=e,i.placeholder="",i}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(y);_.ctorParameters=function(){return[{type:m.c}]},_=Object(d.a)([Object(f.n)({selector:"app-form-text",template:'\n<input fullWidth type="text" nbInput [placeholder]="placeholder" [value]="" >',styles:[""]})],_);var x=a("2Vo4"),k=a("pLZG"),w=a("lJxs"),S=function(){function e(){var n=this;h(this,e),this._baseCommonProperties=new v,this.properties$=new x.a(void 0),this.selectedField$=new x.a(void 0),this.commonProperties$=this.properties$.pipe(Object(k.a)(function(e){return!!e}),Object(w.a)(function(e){return e.filter(function(e){return e.property_identifier in n._baseCommonProperties})}))}return p(e,[{key:"publishSelectedField",value:function(e){console.log("publishSelectedField",e),this.properties$.next(void 0),this.selectedField$.next(e)}},{key:"publishSelectedFieldProperties",value:function(e){this.properties$.next(e)}}]),e}();S.ctorParameters=function(){return[]},S=Object(d.a)([Object(f.F)({providedIn:"root"})],S);var O=a("vkgz"),D=function(e){r(t,e);var n=s(t);function t(e,i){var r,a;return h(this,t),(a=n.call(this)).cd=e,a.activeFormFieldService=i,a.editorLoading=!0,a.editorHeight=500,a.loadComponent=!1,a._properties=Object.assign(Object.assign({},o((r=c(a),u(t.prototype)),"_properties",r)),{value:"This is the value",editable:!0,toolbar:!0,report:!0,required:!0}),a.config={height:a.editorHeight,menubar:!1,icons:"thin",skin:"snow",resize:!1,placeholder:"Ask a question or post an update...",plugins:["advlist autolink lists link image charmap print codesample","preview anchor searchreplace visualblocks code","fullscreen insertdatetime media table paste","help wordcount"],toolbar:"undo redo | formatselect | bold italic |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | codesample",content_style:"\n@import url('https://fonts.googleapis.com/css2?family=Warnes&family=Roboto:wght@300&display=swap');\n\nbody {\n    // background-color: #2f3742;\n    // color: #dfe0e4;\n}\n\np {\n    // font-family: 'Roboto', sans-serif;\n}\n\nh2 {\n    // font-size: 32px;\n    // text-align: center;\n    // font-family: 'Warnes', cursive;\n    // color: #fff;\n    // text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #0073e6, 0 0 20px #0073e6, 0 0 25px #0073e6, 0 0 30px #0073e6, 0 0 35px #0073e6;\n}\n  "},a}return p(t,[{key:"ngAfterContentChecked",value:function(){this.cd.detectChanges()}},{key:"ngOnInit",value:function(){var e=this;this.activeFormFieldService.properties$.pipe(Object(k.a)(function(e){return!!e}),Object(O.a)(function(n){console.debug("onPropertyChange",n),n.forEach(function(n){e.onPropertyChange(n)})})).subscribe()}},{key:"onInitEditor",value:function(){this.editorLoading=!1}},{key:"propertyTransfoermer",value:function(){var e={property_identifier:"report",property_name:"Include in report",property_tyoe:l.TOGGLE_SWITCH,property_default_value:this._properties.report},n={editable:{property_identifier:"editable",property_name:"Editable",property_tyoe:l.TOGGLE_SWITCH,property_default_value:this._properties.editable},required:{property_identifier:"required",property_name:"Required",property_tyoe:l.TOGGLE_SWITCH,property_default_value:this._properties.required},report:e};return Object.assign(Object.assign({},o(u(t.prototype),"propertyTransfoermer",this).call(this)),n)}},{key:"getProperties",value:function(){return Object.values(this.propertyTransfoermer())}}]),t}(y);D.ctorParameters=function(){return[{type:f.k},{type:S}]},D.propDecorators={editorComponent:[{type:f.qb,args:["editorComponent"]}]},D=Object(d.a)([Object(f.n)({selector:"app-form-rich-text",template:'<ng-container\n\n>\n\n\n  <div [ngStyle]="{  \'min-height\': editorHeight + \'px\' }" class="attachments editor" nbSpinnerSize="large"\n    [nbSpinner]="editorLoading">\n\n\n    <editor\n    [disabled]="!_properties.editable"\n    #editorComponent apiKey="hvixogidbngalt6ngnz11kzdko8y4nkhi1e4wd4z0d2bp6sd" initialValue=""  (onInit)="onInitEditor()"\n      [init]="config">\n    </editor>\n  </div>\n\n  \n\n</ng-container>',styles:[".preview {\n  background-color: #f4f4f4;\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}\n\n.attachments {\n  margin-bottom: 2rem;\n}\n\n.editor {\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n\n.editor:hover {\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}"]})],D);var C=function(e){r(t,e);var n=s(t);function t(e){var i,r;return h(this,t),(r=n.call(this)).activeFormFieldService=e,r._properties=Object.assign(Object.assign({},o((i=c(r),u(t.prototype)),"_properties",i)),{label:"Click here to toggle?",default_value:!1}),r}return p(t,[{key:"ngOnInit",value:function(){var e=this;this.activeFormFieldService.properties$.pipe(Object(w.a)(function(e){return null==e?[]:e}),Object(O.a)(function(n){console.debug("onPropertyChange",n),n.forEach(function(n){e.onPropertyChange(n)})})).subscribe()}},{key:"propertyTransfoermer",value:function(){var e={label:{property_identifier:"label",property_name:"Label",property_tyoe:l.INPUT_TEXT,property_default_value:this._properties.label},default_value:{property_identifier:"default_value",property_name:"default_value",property_tyoe:l.INPUT_CHECKBOX,property_default_value:this._properties.default_value}};return Object.assign(Object.assign({},o(u(t.prototype),"propertyTransfoermer",this).call(this)),e)}}]),t}(y);C.ctorParameters=function(){return[{type:S}]},C=Object(d.a)([Object(f.n)({selector:"app-form-boolean",template:'<div fxFlex fxLayout="column">\n\n    <div fxLayout="column" class="editor preview">\n\n\n        <nb-checkbox [checked]="_properties?.default_value"  >{{_properties?.label}}</nb-checkbox>\n\n    </div>\n</div>',styles:[""]})],C);var I=function(e){r(t,e);var n=s(t);function t(){return h(this,t),n.apply(this,arguments)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(y);I=Object(d.a)([Object(f.n)({selector:"app-form-enum",template:"<p>form-enum works!</p>\n",styles:[""]})],I);var P=a("tk/3"),E=a("7qw2"),T=a("fiuP"),F=E.a+"api/v2/",j=function(){function e(n){h(this,e),this.http=n,this.initData()}return p(e,[{key:"initData",value:function(){this.fetchFiles(),this.fetchFormSchema()}},{key:"createFile",value:function(e){return this.http.post(F+"file/create",{filename:e})}},{key:"deleteFile",value:function(e){var n=this;return this.http.delete(F+"file/"+e).pipe(Object(O.a)(function(e){n.fetchFiles()}))}},{key:"getFiles",get:function(){return T.a.Files.asObservable()}},{key:"getFormSchemas",get:function(){return T.a.FormSchema.asObservable()}},{key:"fetchFiles",value:function(){this.http.get(F+"file").pipe(Object(O.a)(function(e){var n=e.files;T.a.Files.next(n)})).subscribe()}},{key:"createFormSchema",value:function(e){var n=this;return this.http.post(F+"form/schema",{form_name:e}).pipe(Object(O.a)(function(e){n.fetchFormSchema()}))}},{key:"fetchFormSchemaById",value:function(e){return this.http.get(F+"form/schema/"+e)}},{key:"fetchFormSchema",value:function(){return this.http.get(F+"form/schema",{}).pipe(Object(O.a)(function(e){var n=e.form_schemas;T.a.FormSchema.next(n)})).subscribe()}},{key:"createFieldSchema",value:function(e,n){return this.http.post(F+"form/".concat(e,"/field/schema"),{form_id:e,component_type:n})}},{key:"getFieldSchemaById",value:function(e){return this.http.get(F+"field/schema/"+e)}},{key:"deleteFieldSchemaById",value:function(e,n){return this.http.delete(F+"form/".concat(n,"/field/").concat(e)).pipe(Object(k.a)(function(e){return!!e.updated}))}},{key:"updateFieldSchemaById",value:function(e,n){return this.http.put(F+"field/schema/"+e,n)}},{key:"saveFieldProperties",value:function(e,n){return this.http.post(F+"field/schema/properties/"+e,n)}}]),e}();j.ctorParameters=function(){return[{type:P.b}]},j=Object(d.a)([Object(f.F)({providedIn:"root"})],j);var L=a("XNiG"),R=a("nYR2"),A=E.a+"api/v2/",N=function(){function e(n){h(this,e),this.http=n}return p(e,[{key:"renameFile",value:function(e,n){return this.http.post(A+"file/rename",{fileid:e,filename:n})}},{key:"upload",value:function(e,n){var t=new FormData;t.append("file",e,e.name);var i=new P.e,o=this.http.post(A+"file/upload?token="+n,t,{reportProgress:!0,observe:"events",headers:i}),r=new L.a;return o.pipe(Object(R.a)(function(){return console.log("complete...")})).subscribe(function(e){if(e.type===P.d.UploadProgress){var n=Math.round(100*e.loaded/e.total);r.next({status:!1,progress:n})}else e instanceof P.f&&(r.next({status:!0,progress:100,fileData:e.body}),r.complete())}),r.asObservable()}}]),e}();N.ctorParameters=function(){return[{type:P.b}]},N=Object(d.a)([Object(f.F)({providedIn:"root"})],N);var B=function(e){r(t,e);var n=s(t);function t(e,i){var o;return h(this,t),(o=n.call(this)).apiService=e,o.uploadService=i,o.files=new Set,o.files$=o.apiService.getFiles,o.uploadingFiles=[],e.getFiles.subscribe(),o}return p(t,[{key:"ngOnInit",value:function(){}},{key:"addFile",value:function(){this.file.nativeElement.click()}},{key:"onFilesAdded",value:function(){var e=this,n=this.file.nativeElement.files;for(var t in n)isNaN(parseInt(t))||function(){var i=n[t];e.apiService.createFile(i.name).pipe(Object(O.a)(function(n){e.uploadingFiles.push({fileData:n,file:i})})).subscribe()}()}},{key:"onFileDropped",value:function(e){var n=this;console.log("File Dropped",e);for(var t=function(t){var i=e.item(t);console.log("File Dropped",i),n.apiService.createFile(i.name).pipe(Object(O.a)(function(e){n.uploadingFiles.push({fileData:e,file:i})})).subscribe()},i=0;i<e.length;i++)t(i)}}]),t}(y);B.ctorParameters=function(){return[{type:j},{type:N}]},B.propDecorators={file:[{type:f.qb,args:["file"]}]},B=Object(d.a)([Object(f.n)({selector:"app-form-file",template:'<div class="margin" fxLayout="row" fxLayoutAlign="end">\n  <div>\n    <input type="file" #file style="display: none" (change)="onFilesAdded()" multiple />\n    <button fxLayoutAlign="space-evenly center" fxLayout="row" fxFlex outline size="small" status="success"\n      (click)="addFile()" class="upload-item" nbButton>\n      Add\n    </button>\n\n  </div>\n</div>\n\n<div class="preview">\n\n\n  <div class="contains" fxLayoutAlign="start space-evenly  " fxLayout="row wrap" appDnd\n    (fileDropped)="onFileDropped($event)">\n\n\n    <ng-container *ngIf="uploadingFiles.length == 0 &&  (files$ | async).length == 0 ">\n      <div class="nofiles" fxFlex fxLayoutAlign="center center" (click)="addFile()">\n        <div fxLayout="column">\n\n          <img src="assets/svg/file.svg">\n          <span class="text center"> Drop your files here to upload </span>\n\n        </div>\n\n\n      </div>\n\n    </ng-container>\n\n    <ng-container *ngFor="let file of files$ | async">\n\n\n      <div fxFlex.md="25%" fxFlex.sm="30%" fxFlex.lg="25%" fxFlex.gt-lg="20%">\n        <app-upload appBorder [fileData]="file" class="upload-item" fxFlex>\n        </app-upload>\n\n      </div>\n\n    </ng-container>\n\n\n    <ng-container *ngFor="let file of uploadingFiles">\n\n\n      <div fxFlex.md="25%" fxFlex.sm="30%" fxFlex.lg="25%" fxFlex.gt-lg="20%">\n        <app-upload appBorder [fileData]="file.fileData" [file]="file.file" class="upload-item" fxFlex>\n        </app-upload>\n\n      </div>\n\n    </ng-container>\n\n  </div>\n\n</div>\n',styles:[".preview {\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}\n\n.fileover {\n  -webkit-animation: shake 1s;\n          animation: shake 1s;\n  -webkit-animation-iteration-count: infinite;\n          animation-iteration-count: infinite;\n}\n\n/* Shake animation */\n\n@-webkit-keyframes shake {\n  0% {\n    transform: translate(1px, 1px) rotate(0deg);\n  }\n  10% {\n    transform: translate(-1px, -2px) rotate(-1deg);\n  }\n  20% {\n    transform: translate(-3px, 0px) rotate(1deg);\n  }\n  30% {\n    transform: translate(3px, 2px) rotate(0deg);\n  }\n  40% {\n    transform: translate(1px, -1px) rotate(1deg);\n  }\n  50% {\n    transform: translate(-1px, 2px) rotate(-1deg);\n  }\n  60% {\n    transform: translate(-3px, 1px) rotate(0deg);\n  }\n  70% {\n    transform: translate(3px, 1px) rotate(-1deg);\n  }\n  80% {\n    transform: translate(-1px, -1px) rotate(1deg);\n  }\n  90% {\n    transform: translate(1px, 2px) rotate(0deg);\n  }\n  100% {\n    transform: translate(1px, -2px) rotate(-1deg);\n  }\n}\n\n@keyframes shake {\n  0% {\n    transform: translate(1px, 1px) rotate(0deg);\n  }\n  10% {\n    transform: translate(-1px, -2px) rotate(-1deg);\n  }\n  20% {\n    transform: translate(-3px, 0px) rotate(1deg);\n  }\n  30% {\n    transform: translate(3px, 2px) rotate(0deg);\n  }\n  40% {\n    transform: translate(1px, -1px) rotate(1deg);\n  }\n  50% {\n    transform: translate(-1px, 2px) rotate(-1deg);\n  }\n  60% {\n    transform: translate(-3px, 1px) rotate(0deg);\n  }\n  70% {\n    transform: translate(3px, 1px) rotate(-1deg);\n  }\n  80% {\n    transform: translate(-1px, -1px) rotate(1deg);\n  }\n  90% {\n    transform: translate(1px, 2px) rotate(0deg);\n  }\n  100% {\n    transform: translate(1px, -2px) rotate(-1deg);\n  }\n}\n\n.margin {\n  margin-top: 1rem;\n}\n\n.nofiles {\n  padding: 2rem;\n}\n\n.center {\n  text-align: center;\n  margin-top: 2rem;\n  color: silver;\n}\n\n.nofiles {\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n\n.nofiles:hover {\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}\n\n.text {\n  font-size: 1.1rem;\n  margin: 2rem;\n  color: #fff;\n}"]})],B);var U=function(e){r(t,e);var n=s(t);function t(){return h(this,t),n.apply(this,arguments)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(y);U=Object(d.a)([Object(f.n)({selector:"app-form-image",template:"<p>form-image works!</p>\n",styles:[""]})],U);var z=function(e){r(t,e);var n=s(t);function t(){return h(this,t),n.apply(this,arguments)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(y);z=Object(d.a)([Object(f.n)({selector:"app-form-video",template:"<p>form-video works!</p>\n",styles:[""]})],z);var M=function(e){r(t,e);var n=s(t);function t(){var e,i;return h(this,t),(i=n.apply(this,arguments))._properties=Object.assign(Object.assign({},o((e=c(i),u(t.prototype)),"_properties",e)),{value:"This is the value",editable:!0,toolbar:!0,report:!0,required:!0}),i.possibleOptions=[{name:"Sample Input",value:"value"}],i}return p(t,[{key:"ngOnInit",value:function(){}},{key:"add",value:function(e,n){this.possibleOptions.push({name:e.value,value:n.value})}},{key:"propertyTransfoermer",value:function(){var e={property_identifier:"options",property_name:"Possible Options",property_tyoe:l.CHIPS,property_default_value:this._properties.report};return Object.assign(Object.assign({},o(u(t.prototype),"propertyTransfoermer",this).call(this)),{possibleOptionProperties:e})}},{key:"getProperties",value:function(){return Object.values(this.propertyTransfoermer())}}]),t}(y);M=Object(d.a)([Object(f.n)({selector:"app-form-select",template:'<div fxLayout="column" fxLayoutGap="1rem">\n\n    <div fxFlex>\n\n        <nb-list>\n            <nb-list-item  *ngFor="let possiblePair of possibleOptions">\n                <div fxFlex>\n                    <nb-checkbox #checkbox fxFlex> {{possiblePair?.name}} </nb-checkbox>\n\n                </div>\n\n            </nb-list-item>\n        </nb-list>\n    </div>\n\n\n    <div fxFlex fxLayoutGap="1rem">\n        <input #nameInput fieldSize="small" placeholder="Name" nbInput>\n        <input #valueInput fieldSize="small" placeholder="Value" nbInput>\n        <button (click)="add( nameInput , valueInput )" size="small" nbButton>Add</button>\n    </div>\n\n\n</div>',styles:[":host ::ng-deep .label {\n  display: flex;\n  flex: 1;\n}\n\n.preview {\n  background-color: #f4f4f4;\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}"]})],M);var G=function(e){r(t,e);var n=s(t);function t(){return h(this,t),n.apply(this,arguments)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(y);G=Object(d.a)([Object(f.n)({selector:"app-form-list",template:"<p>form-list works!</p>\n",styles:[""]})],G);var H=function(e){r(t,e);var n=s(t);function t(e,i){var r,a;return h(this,t),(a=n.call(this)).fb=e,a.activeFormFieldService=i,a.autocompleteTokens=["a","console"],a._properties=Object.assign(Object.assign({},o((r=c(a),u(t.prototype)),"_properties",r)),{editable:!0,code:"\n  import { Component, OnInit } from '@angular/core';\n  import { FieldSchema } from 'src/app/reusable-components/common/abstract/BaseFieldSchema';\n  import { BaseFieldComponent } from 'src/app/reusable-components/common/abstract/BaseFormComponent';\n  \n  @Component({\n    selector: 'app-form-code',\n    templateUrl: './form-code.component.html',\n    styleUrls: ['./form-code.component.scss']\n  })\n  export class FormCodeComponent extends BaseFieldComponent  implements OnInit , FieldSchema {\n  \n    highlight = ''\n    \n    isValid(): boolean {\n      throw new Error(\"Method not implemented.\");\n    }\n  \n    ngOnInit() {\n    }\n  \n  }\n  "}),a.nodes=[{label:"Node 1"},{label:"Node 2",expandable:!0,expanded:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3",expanded:!1,expandable:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}]},{label:"Node 4",expandable:!0,expanded:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}]}]},{label:"Node 3"},{label:"Node 4",children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}],expandable:!0}],a}return p(t,[{key:"isValid",value:function(){throw new Error("Method not implemented.")}},{key:"ngOnInit",value:function(){var e=this;this.activeFormFieldService.properties$.pipe(Object(w.a)(function(e){return null==e?[]:e}),Object(O.a)(function(n){console.debug("onPropertyChange",n),n.forEach(function(n){e.onPropertyChange(n)})})).subscribe()}},{key:"propertyTransfoermer",value:function(){var e={editable:{property_identifier:"editable",property_name:"Editable",property_tyoe:l.TOGGLE_SWITCH,property_default_value:this._properties.editable},code:{property_identifier:"code",property_name:"code",property_tyoe:l.INPUT_TEXTAREA,property_default_value:this._properties.code}};return Object.assign(Object.assign({},o(u(t.prototype),"propertyTransfoermer",this).call(this)),e)}}]),t}(y);H.ctorParameters=function(){return[{type:m.c},{type:S}]},H=Object(d.a)([Object(f.n)({selector:"app-form-code",template:'\n\n<ngx-codemirror [(ngModel)]="_properties.code" [config]="{\n    lineNumbers: true,\n    lineWrapping: true,\n    theme: \'dracula\',\n    mode: {\n      name: \'javascript\',\n      json: true\n    }\n  }" [autocompleteTokens]="autocompleteTokens">\n</ngx-codemirror>\n',styles:[":host ::ng-deep .CodeMirror-scroll {\n  overflow: unset !important;\n}"]})],H);var $,q=function(e){r(t,e);var n=s(t);function t(e){var i;return h(this,t),(i=n.call(this)).fb=e,i.customizations={multiple:!0,required:!1,allow_user_to_add:!0,strict_validation:!0},i.urlPattern=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?|^((http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,i.formGroup=i.fb.group({urls:i.fb.array([i.fb.group({url:new m.d("",{validators:[m.n.pattern(i.urlPattern),m.n.required]})})])}),i}return p(t,[{key:"ngOnInit",value:function(){}},{key:"urls",get:function(){return this.formGroup.get("urls")}},{key:"deleteUrl",value:function(e){this.urls.removeAt(e)}},{key:"addUrl",value:function(){this.urls.push(this.fb.group({url:new m.d("192.168.2.2",{validators:[m.n.pattern(this.urlPattern)]})}))}}]),t}(y);q.ctorParameters=function(){return[{type:m.c}]},q=Object(d.a)([Object(f.n)({selector:"app-form-url",template:'<div fxFlex fxLayout="column">\n    \x3c!-- Customizations --\x3e\n    <ng-container>\n\n        <div fxFlex fxLayout="column">\n            <nb-checkbox [checked]="customizations.required " (checkedChange)="customizations.required = $event"\n                fxFlex="50%" status="success">Required</nb-checkbox>\n            <nb-checkbox [checked]="customizations.multiple " (checkedChange)="customizations.multiple = $event"\n                fxFlex="50%" status="success">Multiple</nb-checkbox>\n            <nb-checkbox [checked]="customizations.allow_user_to_add "\n                (checkedChange)="customizations.allow_user_to_add = $event" fxFlex="50%" status="success">Allow user to\n                add new URL</nb-checkbox>\n\n\n            <nb-checkbox [checked]="customizations.strict_validation "\n                (checkedChange)="customizations.strict_validation = $event" fxFlex="50%" status="success">Strict\n                Validation</nb-checkbox>\n\n        </div>\n\n    </ng-container>\n\n    \x3c!-- Preview --\x3e\n\n    <div fxLayout="column" class="preview">\n        <ng-container [formGroup]="formGroup">\n            <ng-container formArrayName="urls">\n                <ng-container   *ngFor="let url of urls.controls ; let i=index " >\n                    <div class="item" fxFlex fxLayout="row"  [formGroupName]="i" >\n                        <div fxFlex class="field">\n                            <nb-form-field  >\n\n                                <input \n\n                                [status]="url.invalid? \'danger\' :  \'success\'" fullWidth\n                                placeholder="http://example.com"\n                                \n                                fullWidth shape="semi-round"  nbInput type="text"\n                                    formControlName="url" class="form-control">\n\n                                <button [disabled]="i==0" nbSuffix nbButton ghost (click)="deleteUrl(i)">\n                                    <nb-icon pack="eva" icon="trash-outline">\n                                    </nb-icon>\n                                </button>\n                            </nb-form-field>\n\n                        </div>\n                        <ng-container>\n\n                            <div fxFlex fxLayoutAlign="end center">\n                                <p class="caption-2 status-danger"\n                                    [ngStyle]="{  \'visibility\': url.invalid ? \'visible\' : \'hidden\'   }"\n                                    >\n                                    * Invalid URL\n\n                                </p>\n                            </div>\n\n                        </ng-container>\n                    </div>\n\n                </ng-container>\n\n            </ng-container>\n\n\n            <div fxFlex fxLayoutAlign="end end">\n                <button status="primary" size="small" nbButton (click)="addUrl()">Add</button>\n            </div>\n\n\n        </ng-container>\n    </div>\n\n</div>',styles:[".preview {\n  background-color: #f4f4f4;\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}\n\nnb-list-item {\n  padding-bottom: calc(var(--list-item-padding) / 2);\n  padding-top: 0px;\n}\n\n.item {\n  margin-bottom: 3px;\n}\n\n:host ::ng-deep .custom-checkbox {\n  width: var(--small-checkbox);\n  height: var(--small-checkbox);\n}"]})],q),function(e){e.IP_ADDRESS="ip_address",e.TEXT="text",e.RICH_TEXT="rich_text",e.BOOLEAN="boolean",e.ENUM="enum",e.FILE="file",e.IMAGE="image",e.VIDEO="video",e.SELECT="select",e.LIST="list",e.CODE="code",e.URL="url",e.CUSTOM_BUILDER="custom_form_builder",e.DOMAIN="domain",e.HOST="hosts"}($||($={}));var V=function(e){r(t,e);var n=s(t);function t(e,i){var r,a;return h(this,t),(a=n.call(this)).fb=e,a.activeFormFieldService=i,a.ipPattern=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,a._properties=Object.assign(Object.assign({},o((r=c(a),u(t.prototype)),"_properties",r)),{required:!1,allow_user_to_add:!0,size:"small",placeholder:"127.0.0.1"}),a.formGroup=a.fb.group({ipaddresses:a.fb.array([a.fb.group({ip_address:new m.d("",{validators:[m.n.pattern(a.ipPattern)]})})])},{validators:[a.uniqueIpAddressValidator()]}),a}return p(t,[{key:"ipaddresses",get:function(){return this.formGroup.get("ipaddresses")}},{key:"deleteIpAddress",value:function(e){this.ipaddresses.removeAt(e)}},{key:"addIpAddress",value:function(){this.ipaddresses.push(this.fb.group({ip_address:new m.d("",{validators:[m.n.pattern(this.ipPattern),m.n.required]})}))}},{key:"clearControlUniqueIpError",value:function(e){var n=e.errors;n&&(delete n.notUnique,Object.keys(n).length?e.setErrors(n):e.setErrors(null))}},{key:"uniqueIpAddressValidator",value:function(){var e=this;return function(n){for(var t=n.get("ipaddresses"),i=0;i<t.controls.length;i++)if(t.controls[i].get("ip_address").valid||t.controls[i].get("ip_address").invalid&&t.controls[i].get("ip_address").getError("notUnique"))for(var o=i+1;o<t.controls.length;o++)(t.controls[o].get("ip_address").valid||t.controls[i].get("ip_address").invalid&&t.controls[o].get("ip_address").getError("notUnique"))&&t.controls[i].get("ip_address").value==t.controls[o].get("ip_address").value?(t.controls[i].setErrors({notUnique:!0}),t.controls[o].setErrors({notUnique:!0})):(e.clearControlUniqueIpError(t.controls[i]),e.clearControlUniqueIpError(t.controls[o]))}}},{key:"updateValidators",value:function(){var e=[m.n.pattern(this.ipPattern)];1==this._properties.required&&e.push(m.n.required),this.ipaddresses.at(0).get("ip_address").setValidators(e),this.ipaddresses.at(0).get("ip_address").updateValueAndValidity()}},{key:"propertyTransfoermer",value:function(){var e={property_identifier:"placeholder",property_name:"Placeholder",property_tyoe:l.INPUT_TEXT,property_default_value:this._properties.placeholder},n={editable:{property_identifier:"required",property_name:"Required (Alteast one)",property_tyoe:l.TOGGLE_SWITCH,property_default_value:this._properties.required},required:{property_identifier:"allow_user_to_add",property_name:"Allow user to add more",property_tyoe:l.TOGGLE_SWITCH,property_default_value:this._properties.allow_user_to_add},placeholder:e};return Object.assign(Object.assign({},o(u(t.prototype),"propertyTransfoermer",this).call(this)),n)}},{key:"ngOnInit",value:function(){var e=this;this.activeFormFieldService.properties$.pipe(Object(w.a)(function(e){return null==e?[]:e}),Object(O.a)(function(n){console.debug("onPropertyChange",n),n.forEach(function(n){e.onPropertyChange(n)})}),Object(O.a)(function(n){e.updateValidators()})).subscribe()}}]),t}(y);V.ctorParameters=function(){return[{type:m.c},{type:S}]},V=Object(d.a)([Object(f.n)({selector:"app-form-ipaddress",template:'<div fxFlex fxLayout="column">\n\n  <div fxLayout="column" class="editor preview">\n\n    <ng-container [formGroup]="formGroup">\n\n\n\n\n      <ng-container formArrayName="ipaddresses">\n\n\n        <div  *ngIf="_properties?.allow_user_to_add" fxFlex fxLayoutAlign="end end">\n          <button status="success" outline [size]="_properties.size" nbButton (click)="addIpAddress()">Add</button>\n        </div>\n\n        <ng-container *ngFor="let ipaddress of ipaddresses.controls ; let i=index ">\n\n\n          <div class="item" fxFlex fxLayout="row" [formGroupName]="i">\n\n\n            <div fxFlex class="field">\n              <nb-form-field>\n\n                <input [fieldSize]="_properties.size" [status]="ipaddress.invalid? \'danger\' :  \'control\'" fullWidth\n                  #ipInput nbInput type="text" [placeholder]="_properties.placeholder" formControlName="ip_address">\n\n                <button [size]="_properties.size" [disabled]="i==0" nbSuffix nbButton ghost\n                  (click)="deleteIpAddress(i)">\n                  <nb-icon pack="eva" icon="trash-outline">\n                  </nb-icon>\n                </button>\n              </nb-form-field>\n\n            </div>\n            <ng-container>\n\n              <div fxFlex fxLayoutAlign="end center">\n                <p class="caption-2 status-danger"\n                  [ngStyle]="{  \'visibility\': ipaddress.invalid ? \'visible\' : \'hidden\'   }">\n\n                  <ng-container *ngIf="ipaddress.errors?.notUnique == true ; else genericError ">\n\n                    Duplicate Ip address\n                  </ng-container>\n\n                  <ng-template #genericError>\n                    * Invalid IP Address\n                  </ng-template>\n\n                </p>\n              </div>\n\n            </ng-container>\n          </div>\n\n        </ng-container>\n\n      </ng-container>\n\n\n\n\n\n    </ng-container>\n  </div>\n\n</div>\n',styles:[".form-control {\n  text-align: center;\n}\n\n.preview {\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}\n\nnb-list-item {\n  padding-bottom: calc(var(--list-item-padding) / 2);\n  padding-top: 0px;\n}\n\n.item {\n  margin-bottom: 3px;\n}\n\n:host ::ng-deep .custom-checkbox {\n  width: var(--small-checkbox);\n  height: var(--small-checkbox);\n}"]})],V);var W=function(e){r(t,e);var n=s(t);function t(){return h(this,t),n.call(this)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(y);W.ctorParameters=function(){return[]},W=Object(d.a)([Object(f.n)({selector:"app-field-host",template:"<p>field-host works!</p>\n",styles:[""]})],W);var Q=function(e){r(t,e);var n=s(t);function t(){return h(this,t),n.call(this)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(y);Q.ctorParameters=function(){return[]},Q=Object(d.a)([Object(f.n)({selector:"app-field-domain",template:"<p>field-domain works!</p>\n",styles:[""]})],Q);var K=function(){function e(){h(this,e)}return p(e,null,[{key:"getComponentTypes",value:function(){var n=this;return Array.from(e.fieldsDictionary.keys()).map(function(e){return{title:n.fieldsDictionary.get(e).title,type:e}})}},{key:"getComponent",value:function(n){if(e.fieldsDictionary.has(n))return e.fieldsDictionary.get(n);throw new Error("No such component found")}}]),e}();K.fieldsDictionary=new Map([[$.IP_ADDRESS,{title:"Ip Address",component:V}],[$.BOOLEAN,{title:"Boolean",component:C}],[$.CODE,{title:"Code",component:H}],[$.ENUM,{title:"Enum",component:I}],[$.FILE,{title:"File",component:B}],[$.IMAGE,{title:"Image",component:U}],[$.LIST,{title:"List",component:G}],[$.RICH_TEXT,{title:"Rich Text",component:D}],[$.SELECT,{title:"Select",component:M}],[$.TEXT,{title:"Text",component:_}],[$.URL,{title:"URL",component:q}],[$.VIDEO,{title:"Video",component:z}],[$.HOST,{title:"Host",component:W}],[$.DOMAIN,{title:"Domain",component:Q}]]);var X=a("HDdC"),Z=a("VRyK"),J=a("LRne"),Y=a("3E0/"),ee=a("SxV6"),ne=a("ZfaG"),te=a("aceb"),ie=a("jtHE"),oe=a("z6cu"),re={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},ae={easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},easeOutElastic:function(e){return Math.pow(2,-10*e)*Math.sin((e-1/4)*(2*Math.PI)/1)+1}},se=["click","mouseenter","mouseover","mousedown","mouseup","dblclick","contextmenu","wheel","mouseleave","mouseout"];function le(e){return e===window}var ce=function(){function e(n,t,i,o,r,a){var s=this;h(this,e),this.container=n,this.listenerTarget=t,this.isWindow=i,this.to=o,this.options=r,this.isBrowser=a,this.loop=function(){s.timeLapsed+=s.tick,s.percentage=s.timeLapsed/s.options.duration,s.percentage=s.percentage>1?1:s.percentage,s.position=s.startPosition+(s.startPosition-s.to<=0?1:-1)*s.distance*ae[s.options.easing](s.percentage),null!==s.lastPosition&&s.position===s.lastPosition?s.stop():(s.source$.next(s.position),s.isWindow?s.listenerTarget.scrollTo(0,Math.floor(s.position)):s.container.scrollTop=Math.floor(s.position),s.lastPosition=s.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.container?this.startPosition=this.isWindow?this.windowScrollTop:this.container.scrollTop:this.startPosition=this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);var l=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach(function(e,n){return s.mappedOffset=window.innerWidth>n?e:s.mappedOffset}),this.distance+=this.mappedOffset*(l<=0?1:-1),this.source$=new ie.a}return p(e,[{key:"start",value:function(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}},{key:"stop",value:function(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}]),e}(),ue=function(){function e(n,t){h(this,e),this.document=n,this.platformId=t,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}return p(e,[{key:"scrollTo",value:function(e){return Object(g.B)(this.platformId)?this.start(e):(new ie.a).asObservable()}},{key:"start",value:function(e){var n=this,t=Object.assign(Object.assign({},re),e);this.animation&&this.animation.stop();var i=this.getNode(t.target);if(t.target&&!i)return Object(oe.a)("Unable to find Target Element");var o=this.getContainer(t,i);if(t.container&&!o)return Object(oe.a)("Unable to find Container Element");var r=this.getListenerTarget(o)||window,a=o?o.getBoundingClientRect().top:0;i&&(a=le(r)?window.scrollY+i.getBoundingClientRect().top:i.getBoundingClientRect().top),this.animation=new ce(o,r,le(r),a,t,Object(g.B)(this.platformId));var s=function(){return n.animation.stop()};this.addInterruptiveEventListeners(r,s);var l=this.animation.start();return this.subscribeToAnimation(l,r,s),l}},{key:"subscribeToAnimation",value:function(e,n,t){var i=this,o=e.subscribe(function(){},function(){},function(){i.removeInterruptiveEventListeners(i.interruptiveEvents,n,t),o.unsubscribe()})}},{key:"getContainer",value:function(e,n){var t=null;return e.container?t=this.getNode(e.container,!0):n&&(t=this.getFirstScrollableParent(n)),t}},{key:"addInterruptiveEventListeners",value:function(e,n){var t=this;e||(e=window),this.interruptiveEvents.forEach(function(i){return e.addEventListener(i,n,!!t.supportPassive()&&{passive:!0})})}},{key:"supportPassive",value:function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch(t){}return e}},{key:"removeInterruptiveEventListeners",value:function(e,n,t){n||(n=window),e.forEach(function(e){return n.removeEventListener(e,t)})}},{key:"getFirstScrollableParent",value:function(e){var n=window.getComputedStyle(e),t=/(auto|scroll|overlay)/;if("fixed"===n.position)return null;for(var i=e;i.parentElement;)if(i=i.parentElement,"absolute"!==(n=window.getComputedStyle(i)).position&&"hidden"!==n.overflow&&"hidden"!==n.overflowY&&(t.test(n.overflow+n.overflowY)||"BODY"===i.tagName))return i;return null}},{key:"getNode",value:function(e){var n,t,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof(t=e)||t instanceof String?n=!i||"body"!==e&&"BODY"!==e?this.document.getElementById(function(e){return"#"===e.substring(0,1)?e.substring(1):e}(e)):this.document.body:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(e)?n=this.document.getElementById(String(e)):function(e){return e instanceof f.v}(e)?n=e.nativeElement:function(e){return e instanceof HTMLElement}(e)&&(n=e),n}},{key:"getListenerTarget",value:function(e){return e?this.isDocumentBody(e)?window:e:null}},{key:"isDocumentBody",value:function(e){return"BODY"===e.tagName.toUpperCase()}}]),e}();ue.\u0275fac=function(e){return new(e||ue)(f.ad(g.d),f.ad(f.W))},ue.\u0275prov=f.Mc({token:ue,factory:function(e){return ue.\u0275fac(e)}}),ue.ctorParameters=function(){return[{type:void 0,decorators:[{type:f.D,args:[g.d]}]},{type:void 0,decorators:[{type:f.D,args:[f.W]}]}]},ue=Object(d.a)([Object(d.b)(0,Object(f.D)(g.d)),Object(d.b)(1,Object(f.D)(f.W))],ue);var de,pe=function(){function e(n,t,i){h(this,e),this.elementRef=n,this.scrollToService=t,this.renderer2=i,this.ngxScrollTo=re.target,this.ngxScrollToEvent=re.action,this.ngxScrollToDuration=re.duration,this.ngxScrollToEasing=re.easing,this.ngxScrollToOffset=re.offset,this.ngxScrollToOffsetMap=re.offsetMap}return p(e,[{key:"ngAfterViewInit",value:function(){var e=this;if(-1===se.indexOf(this.ngxScrollToEvent))throw new Error("Unsupported Event '".concat(this.ngxScrollToEvent,"'"));this.renderer2.listen(this.elementRef.nativeElement,this.ngxScrollToEvent,function(n){e.options={target:e.ngxScrollTo,duration:e.ngxScrollToDuration,easing:e.ngxScrollToEasing,offset:e.ngxScrollToOffset,offsetMap:e.ngxScrollToOffsetMap},e.scrollToService.scrollTo(e.options)})}}]),e}();pe.\u0275fac=function(e){return new(e||pe)(f.Qc(f.v),f.Qc(ue),f.Qc(f.bb))},pe.\u0275dir=f.Lc({type:pe,selectors:[["","ngxScrollTo",""]],inputs:{ngxScrollTo:"ngxScrollTo",ngxScrollToEvent:"ngxScrollToEvent",ngxScrollToDuration:"ngxScrollToDuration",ngxScrollToEasing:"ngxScrollToEasing",ngxScrollToOffset:"ngxScrollToOffset",ngxScrollToOffsetMap:"ngxScrollToOffsetMap"}}),pe.ctorParameters=function(){return[{type:f.v},{type:ue},{type:f.bb}]},Object(d.a)([Object(f.I)()],pe.prototype,"ngxScrollTo",void 0),Object(d.a)([Object(f.I)()],pe.prototype,"ngxScrollToEvent",void 0),Object(d.a)([Object(f.I)()],pe.prototype,"ngxScrollToDuration",void 0),Object(d.a)([Object(f.I)()],pe.prototype,"ngxScrollToEasing",void 0),Object(d.a)([Object(f.I)()],pe.prototype,"ngxScrollToOffset",void 0),Object(d.a)([Object(f.I)()],pe.prototype,"ngxScrollToOffsetMap",void 0);var he=de=function(){function e(){h(this,e)}return p(e,null,[{key:"forRoot",value:function(){return{ngModule:de,providers:[ue]}}}]),e}();he.\u0275mod=f.Oc({type:he}),he.\u0275inj=f.Nc({factory:function(e){return new(e||he)}}),("undefined"==typeof ngJitMode||ngJitMode)&&f.wd(he,{declarations:[pe],exports:[pe]});var fe=function(){function e(n,t,i,o,r){var a=this;h(this,e),this.componentFactoryResolver=n,this.apiService=t,this.dialogService=i,this.activeFormFieldService=o,this.scrollToService=r,this.title="Lorem ipsum dolor sit amet, numquam eleifend et pri. Duo ea sumo phaedrum pertinacia. Salutatus vulputate sea ea. Audiam feugait ne est, an paulo sanctus impedit duo, no vim vero nostrud salutatus.\n\n  Ut vel elit nonumes detraxit, errem offendit an eum. Assum corrumpit sit at, ex definiebas inciderint vix. Ei sanctus persecuti per, eu vis volumus accumsan. Nec equidem apeirian ei, esse putent regione cum in.\n  \n  Nam ea quis omnium. Eirmod audiam ex quo, pro mentitum similique eu, vis ex erat possit menandri. Te paulo primis sed, ex viderer deseruisse mel, diam natum nec id. Vidisse vivendum voluptaria ius et, cum ea facer decore. Mundi fastidii ei pri.\n  \n  Per ullum interesset ut, per no equidem ceteros consetetur. Hinc fugit feugiat mei cu. Nec laudem partem ne, graeco audiam legimus ius cu, duo putant maiestatis ne. Ea vis equidem gubergren voluptatum. Movet saepe exerci vix ei.\n  \n  Iudico probatus ne qui, te nec instructior comprehensam. Cu lucilius recteque definitiones eum, aliquip instructior theophrastus nec cu. Appetere rationibus reformidans sit ut, putant habemus concludaturque ut per. Sea eu prompta ceteros, ea adipisci iracundia reprimique eos, an cum apeirian definitionem. Sea ei urbanitas consetetur, blandit forensibus in has.",this.subtitle="Make sure all the IP Addresses are reachable from hawkI Server",this.undo_message="You have 5 more seconds to undo the change",this.field_id="",this.identifier="",this.publishing=!1,this.properties$=new x.a([]),this.dragEventListener$=new X.a,this.deleteState=!1,this.baseFormCommonProperties=new v,this.moreContextMenuItems=[{title:"Delete"},{title:"Preferences"}],this.delete$=new L.a,this.undo$=new L.a,this.destroy$=new L.a,this.undoSubscription=Object(Z.a)(this.undo$,this.delete$,Object(J.a)(!0).pipe(Object(Y.a)(E.d))).pipe(Object(ee.a)()).pipe(Object(O.a)(function(e){console.log("observer",e)})),this.deleteSubscription=this.delete$.pipe(Object(ee.a)()).pipe(Object(O.a)(function(e){a.deleteState=!0})).pipe(Object(w.a)(function(e){return a.componentTemplate.detach(0)})).pipe(Object(O.a)(function(e){a.subscriptionUndo$&&a.subscriptionUndo$.unsubscribe(),a.subscriptionUndo$=a.undoSubscription.subscribe(function(n){1==n?(console.log("deleteConfirm",n,e),a.destroy$.next(!0)):(console.log("Undoing",n,e),a.componentTemplate.insert(e),a.initiateSubscriptions())})}))}return p(e,[{key:"openDialog",value:function(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}},{key:"triggerScrollTo",value:function(){this.scrollToService.scrollTo({offset:200})}},{key:"ngOnInit",value:function(){var e=this;this.getData(),this.dragEventListener$.pipe(Object(O.a)(function(e){console.log("scrollEvent",e)})).subscribe(),this.getProperties(),this.activeFormFieldService.commonProperties$.pipe(Object(w.a)(function(e){return e.reduce(function(e,n){return Object.assign(Object.assign({},e),(t={},i=n.property_identifier,o=n.property_default_value,i in t?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,t));var t,i,o},{})})).subscribe(function(n){n.instructions,e.baseFormCommonProperties=n})}},{key:"getProperties",value:function(){}},{key:"refreshData",value:function(){var e=this;return Object(O.a)(function(n){console.log("val",n,n.title),n.title&&(e.title=n.title),n.subtitle&&(e.subtitle=n.subtitle),null!=n.published&&(e.published=n.published),null!=n.identifier&&(e.identifier=n.identifier)})}},{key:"getData",value:function(){var e=this;this.apiService.getFieldSchemaById(this.field_id).pipe(Object(k.a)(function(e){return!!e.component_type})).pipe(this.refreshData()).pipe(Object(w.a)(function(e){return e.component_type})).pipe(Object(O.a)(function(n){console.log("field_data",n);var t=K.getComponent(n).component;e.injectComponent(t)})).subscribe()}},{key:"delete",value:function(){this.delete$.next(!0)}},{key:"undo",value:function(){this.undo$.next(!1)}},{key:"injectComponent",value:function(e){this.component=this.componentFactoryResolver.resolveComponentFactory(e);var n=this.componentTemplate;this.component=n.createComponent(this.component);var t=[];"function"==typeof this.component.instance.getProperties&&(t=this.component.instance.getProperties()),console.log("customProperties",t),this.properties$.next(t),this.initiateSubscriptions()}},{key:"initiateSubscriptions",value:function(){this.deleteState=!1,this.subscriptionDelete$&&this.subscriptionDelete$.unsubscribe(),this.deleteSubscription.subscribe()}},{key:"updateTitle",value:function(e){this.apiService.updateFieldSchemaById(this.field_id,{title:e}).pipe(this.refreshData()).subscribe()}},{key:"updateIdentifier",value:function(e){this.apiService.updateFieldSchemaById(this.field_id,{identifier:e}).pipe(this.refreshData()).subscribe()}},{key:"updateSubtitle",value:function(e){this.apiService.updateFieldSchemaById(this.field_id,{subtitle:e}).pipe(this.refreshData()).subscribe()}},{key:"togglePublished",value:function(e){var n=this;this.publishing=!0,this.apiService.updateFieldSchemaById(this.field_id,{published:e}).pipe(this.refreshData()).pipe(Object(O.a)(function(e){n.publishing=!1})).subscribe()}},{key:"onPropertyChange",value:function(e){this.component&&this.component.instance.onPropertyChange(e)}},{key:"test",value:function(){console.log("clicked")}}]),e}();fe.ctorParameters=function(){return[{type:f.p},{type:j},{type:te.j},{type:S},{type:ue}]},fe.propDecorators={componentTemplate:[{type:f.qb,args:["componentTemplate",{read:f.sb,static:!0}]}],delete$:[{type:f.U}],undo$:[{type:f.U}],destroy$:[{type:f.U}]},fe=Object(d.a)([Object(f.n)({selector:"app-test-component",template:'\n\n\n<button (click)="triggerScrollTo()">\n  Go down 200 pixels\n</button>\n\n<div appLeftBorder *ngIf="baseFormCommonProperties?.description?.length > 0">\n  <span class="subtitle text-hint">{{baseFormCommonProperties?.description}}</span>\n</div>\n\n\n<div id="destination" >\n\n\n\n\n\n\n\n\n  <div *ngIf="baseFormCommonProperties?.instructions?.length > 0">\n    <ngx-tip status="notice">\n      {{baseFormCommonProperties?.instructions}}\n    </ngx-tip>\n  </div>\n\n  <div appBorder>\n    <ng-template #componentTemplate></ng-template>\n  </div>\n  \x3c!-- </ngx-section> --\x3e\n</div>\n\n\n\x3c!-- </nb-accordion-item-body>\n</nb-accordion-item> --\x3e\n\n\x3c!-- </nb-accordion> --\x3e\n\n<nb-card @init *ngIf="false" cdkDrag [cdkDragDisabled]="!(dragEventListener$ | async)">\n\n  <nb-card-header *ngIf="deleteState && false">\n\n    <div fxFlex fxLayoutAlign="end" fxLayoutGap="1rem">\n\n      <div fxFlex fxLayoutGap="1rem">\n\n        <div>\n          <span class="h6">{{undo_message}}</span>\n\n        </div>\n      </div>\n\n      <div fxLayoutGap="1rem">\n        <button size="tiny" status="primary" nbButton (click)="undo()">Undo</button>\n        <button size="tiny" status="danger" nbButton (click)="delete()">Delete</button>\n\n\n\n      </div>\n\n    </div>\n\n  </nb-card-header>\n  <nb-card-header *ngIf="false" [class.unpublishedCard]="published == false && false"\n    [class.publishedCard]="published == true" fxLayoutAlign="end center" fxLayoutGap="0rem">\n\n\n    <div fxFlex class="identifier">\n\n\n\n      <nb-form-field>\n        <input #fileldId (keyup.enter)="updateIdentifier(fileldId.value)" placeholder="Identifier" [value]="identifier"\n          fieldSize="small" nbInput>\n        <nb-icon nbPrefix icon="hash-outline" pack="eva"></nb-icon>\n      </nb-form-field>\n\n\n\n    </div>\n\n\n\n    <ng-container *ngIf="published !== undefined">\n\n      <ng-container *ngIf="published  ; else unpublishFormFieldTemplate">\n        <button size="tiny" nbButton (click)="togglePublished(false)" outline [status]="publishing?\'basic\':\'danger\'"\n          [disabled]="publishing" nbSpinnerStatus="basic" [nbSpinner]="publishing" nbSpinnerSize="tiny">\n          <nb-icon icon="checkmark-circle-2"></nb-icon>\n          Unpublish\n        </button>\n\n      </ng-container>\n\n      <ng-template #unpublishFormFieldTemplate>\n\n        <button size="tiny" nbButton (click)="togglePublished(true)" outline [status]="publishing  ?\'basic\':\'success\'"\n          [disabled]="publishing" nbSpinnerStatus="basic" [nbSpinner]="publishing" nbSpinnerSize="tiny">\n          <nb-icon icon="checkmark-circle-2"></nb-icon>\n          Publish\n        </button>\n\n      </ng-template>\n\n    </ng-container>\n\n\n\n\n    <button (click)="openDialog( settingsTemplate )" size="tiny" nbButton outline status="basic">\n      <nb-icon icon="settings-2"></nb-icon>\n    </button>\n\n\n    <ng-template #settingsTemplate>\n      <div class="popmenu">\n\n        <nb-list>\n          <nb-list-item>\n            <nb-checkbox status="success">\n              Required</nb-checkbox>\n          </nb-list-item>\n          <nb-list-item>\n\n            <nb-checkbox status="success">\n              Multiple</nb-checkbox>\n          </nb-list-item>\n          <nb-list-item>\n\n            <nb-checkbox status="success">Allow user to\n              add new URL</nb-checkbox>\n          </nb-list-item>\n        </nb-list>\n        <div fxLayoutAlign="end center">\n          <button size="tiny" status="info" nbButton (click)="delete()">Customize</button>\n          <button size="tiny" status="danger" nbButton (click)="delete()">Delete</button>\n        </div>\n        <div fxLayoutAlign="end center">\n\n\n\n          <button size="small" status="success" nbButton (click)="delete()">Save</button>\n        </div>\n\n      </div>\n    </ng-template>\n\n\n\n  </nb-card-header>\n\n  <nb-card-header *ngIf="!deleteState && false">\n\n\n\n\n\n\n    <div fxFlex fxLayout="column" fxLayoutAlign="end" fxLayoutGap="1rem">\n\n\n      <div class="headingContainer">\n        \x3c!-- <h4 class="title">{{title}}</h4> --\x3e\n\n        <div fxFlex="55">\n\n          <nb-form-field>\n            <input #titleInput (keyup.enter)="updateTitle( titleInput.value )" placeholder="Hello World"\n              fieldSize="medium" fullWidth [(ngModel)]="title" nbInput>\n            <button [disabled]="i==0" nbPrefix nbButton ghost (click)="deleteIpAddress(i)">\n              <nb-icon pack="eva" icon="edit-outline">\n              </nb-icon>\n            </button>\n          </nb-form-field>\n        </div>\n\n      </div>\n\n\n      <div class="headingContainer">\n        \x3c!-- <h6 class="subtitle-2">{{subtitle}}</h6> --\x3e\n\n        <div fxFlex="80">\n\n          <nb-form-field>\n\n\n\n            <textarea rows="3" placeholder="Enter description" #subtitleInput\n              (keyup.enter)="updateSubtitle( subtitleInput.value )" fieldSize="medium" fullWidth [(ngModel)]="subtitle"\n              nbInput>\n                        </textarea>\n\n\n\n            \x3c!-- <button [disabled]="i==0" nbPrefix nbButton ghost (click)="deleteIpAddress(i)">\n                            <nb-icon pack="eva" icon="edit-outline">\n                            </nb-icon>\n                        </button> --\x3e\n          </nb-form-field>\n        </div>\n\n      </div>\n\n\n\n\n\n\n\n    </div>\n\n  </nb-card-header>\n\n\n  <nb-card-body class="gutter">\n    <ng-template #componentTemplate></ng-template>\n  </nb-card-body>\n\n\n  \x3c!-- <nb-card-footer>\n        <span class="attachments" class="h6">Attachments</span>\n\n        <app-form-file></app-form-file>\n\n    </nb-card-footer> --\x3e\n</nb-card>\n',animations:ne.a,styles:[".gutter {\n  overflow: visible;\n}\n\n.icon {\n  margin-left: 0.3rem;\n  margin-bottom: 0.8rem;\n}\n\n.attachments {\n  margin-bottom: 1rem;\n}\n\n.focussed {\n  background: none;\n}\n\n.headingContainer {\n  margin-bottom: 1rem;\n}\n\ninput {\n  font-weight: 450 !important;\n  color: #838080;\n}\n\ntextarea {\n  font-weight: 450 !important;\n  color: #838080;\n  resize: none;\n}\n\n.popmenu {\n  padding: 1rem;\n  background: #fff;\n}\n\nnb-list-item {\n  padding: 0.7rem;\n  border: none !important;\n}\n\n.unpublishedCard {\n  box-shadow: 0 2px 28px #f8cdd8, 0 4px 10px #8f9bb37a;\n  padding: 0.7rem;\n}\n\n.publishedCard {\n  box-shadow: 0 2px 28px #d5f4e1, 0 4px 10px #8f9bb37a;\n  padding: 0.7rem;\n}\n\n.identifier {\n  margin-left: 1rem;\n}\n\n.textMar {\n  margin-bottom: 1rem;\n}\n\n.iconmargin {\n  margin-left: 1rem;\n}"]})],fe);var ge=a("5+tZ"),be=function(){function e(n,t){h(this,e),this.componentFactoryResolver=n,this.apiService=t,this.form_schema_id="",this.dragEventListener$=new x.a(!1),this.componentTypes=K.getComponentTypes()}return p(e,[{key:"toggleDragAndScroll",set:function(e){this.dragEventListener$.next(e)}},{key:"ngOnInit",value:function(){var e=this;setTimeout(function(){e.scrollToBottom()},2e3)}},{key:"ngOnDestroy",value:function(){}},{key:"addNewComponent",value:function(){}},{key:"selectedChange",value:function(e){if("*"==e)return this.render("unknown");K.getComponent(e).component,this.render("unknown")}},{key:"addFIeld",value:function(e){this.render(e)}},{key:"render",value:function(e){var n=this;f.ab.resolveAndCreate([{provide:"config",useValue:{value:"Any value or object here"}}]);var t=this.componentFactoryResolver.resolveComponentFactory(fe),i=this.componentTemplate.createComponent(t);i.instance.dragEventListener$=this.dragEventListener$.asObservable(),i.instance.field_id=e,i.instance.destroy$.pipe(Object(w.a)(function(t){return n.apiService.deleteFieldSchemaById(e,n.form_schema_id)}),Object(ge.a)(function(e){return e})).pipe(Object(k.a)(function(e){return 1==e.deleted})).subscribe(function(e){console.log("Destroying permanently"),i.destroy()})}},{key:"mockData",value:function(){var e=this;b.forEach(function(n){var t=n.component;try{K.getComponent(t).component,e.render("unknown")}catch(i){console.error(t,"Failed",i)}})}},{key:"scrollToBottom",value:function(){try{this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight}catch(e){console.error(e)}}},{key:"reorderFormFields",value:function(e){console.log(e)}},{key:"toggleReorder",value:function(){this.dragEventListener$.next(!0)}}]),e}();be.ctorParameters=function(){return[{type:f.p},{type:j}]},be.propDecorators={scrollContainer:[{type:f.qb,args:["scrollContainer"]}],componentTemplate:[{type:f.qb,args:["componentTemplate",{read:f.sb,static:!0}]}],form_schema_id:[{type:f.I,args:["form_schema_id"]}],toggleDragAndScroll:[{type:f.I,args:["toggleDragAndScroll"]}]},be=Object(d.a)([Object(f.n)({selector:"app-form-builder",template:'<div #scrollContainer cdkDropList (cdkDropListDropped)="reorderFormFields($event)">\n\n  <nb-accordion>\n    <nb-accordion-item expanded>\n      <nb-accordion-item-header>Product Details\n\n\n\n      </nb-accordion-item-header>\n      <nb-accordion-item-body>\n\n        <ng-template #componentTemplate></ng-template>\n\n      </nb-accordion-item-body>\n    </nb-accordion-item>\n  </nb-accordion>\n\n</div>\n',styles:[".gutter {\n  background-color: #edf0f4;\n  padding: 0;\n  padding: 0;\n}"]})],be);var me=a("YUcS"),ve=a("JX91"),ye=a("tyNb"),_e=function(){function e(t,i){h(this,e),this.apiService=t,this.activateRoute=i,this.toggleDragAndScroll=!1,this.showAutocompleteBar=!1,this.minFormNameLength=1,this.options=[],this.inputFormControl=new m.d(""),this.componentTypes=[].concat(n(K.getComponentTypes()),n(K.getComponentTypes()),n(K.getComponentTypes())),this.formSchema={form_id:"",form_name:"",form_metadata:[],form_tags:[],field:[],public:!0,draft:!0,archived:!0,version:1},this.items=[{title:"home",link:"/",icon:"person-outline",pathMatch:"prefix"},{title:"dashboard",icon:"person-outline",pathMatch:"prefix",link:"/dashboard"},{title:"dashboard",icon:"person-outline",pathMatch:"prefix",link:"/dashboard"},{title:"dashboard",icon:"person-outline",pathMatch:"prefix",link:"/dashboard"},{title:"dashboard",icon:"person-outline",pathMatch:"prefix",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"home",icon:"person-outline",link:"/"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"home",icon:"person-outline",link:"/"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"home",icon:"person-outline",link:"/"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"}]}return p(e,[{key:"toggleScroll",value:function(){this.toggleDragAndScroll=!this.toggleDragAndScroll}},{key:"ngOnInit",value:function(){var e=this;this.activateRoute.params.pipe(Object(w.a)(function(e){return e.formid}),Object(k.a)(function(e){return!!e}),Object(w.a)(function(n){return e.apiService.fetchFormSchemaById(n).pipe(Object(O.a)(function(n){e.formSchema=n}),Object(O.a)(function(n){console.log("renderForm",n),n.field.forEach(function(n){e.formBuilderComponent.addFIeld(n)})}))}),Object(ge.a)(function(e){return e}),Object(O.a)(function(e){})).subscribe(),T.a.FormSchema.pipe(Object(k.a)(function(e){return!!e})).subscribe(function(n){console.debug("formSchema",n),e.options=n}),this.filteredControlOptions$=Object(J.a)(this.options),this.filteredControlOptions$=this.inputFormControl.valueChanges.pipe(Object(k.a)(function(e){return!!e})).pipe(Object(ve.a)(""),Object(w.a)(function(n){return e.filter(n)}))}},{key:"filter",value:function(e){console.debug("filtering",e,typeof e);var n=e.toLowerCase();return this.options.filter(function(e){return e.form_name.toLowerCase().includes(n)})}},{key:"formAutoCompleteSelectionChanged",value:function(e){console.log("form",e),e&&""!=e&&"object"==typeof e&&(0==e[0]?(e=e[1],console.log("boom",e),this.inputFormControl.setValue(e)):(e=e[1],console.log("poom",e),this.inputFormControl.setValue(""),console.log("Create New",e),this.apiService.createFormSchema(e).subscribe()))}},{key:"onFocusShift",value:function(e){this.showAutocompleteBar=e}},{key:"addField",value:function(e){var n=this,t=e.type;this.apiService.createFieldSchema(this.formSchema.form_id,t).pipe(Object(k.a)(function(e){return!!e.field_id})).pipe(Object(O.a)(function(e){console.log("addField field_id",e.field_id),n.formBuilderComponent.addFIeld(e.field_id)})).subscribe()}},{key:"renderForm",value:function(){console.log("renderForm",this.formSchema)}}]),e}();_e.ctorParameters=function(){return[{type:j},{type:ye.a}]},_e.propDecorators={formBuilderComponent:[{type:f.qb,args:["formBuilder"]}],formInput:[{type:f.qb,args:["formInput"]}]},_e=Object(d.a)([Object(f.n)({selector:"app-bootstrap",template:'<nb-layout center>\n    <nb-layout-header fixed>\n\n        <div fxFlex fxLayoutAlign="center center">\n\n            <span routerLink="/" class="h5">\n                <button nbButton ghost status="danger" size="large">\n\n                    <nb-icon icon="menu-2">\n                    </nb-icon>\n                </button>\n\n                SecoFlex\n\n            </span>\n\n\n            <div fxFlex fxLayoutAlign="end center">\n\n\n                <button nbButton outline status="success" size="small">\n                    <nb-icon icon="checkmark-circle-2">\n                    </nb-icon>\n                    Save\n\n                </button>\n\n                <button nbButton outline status="basic" size="small">\n\n                    <nb-icon icon="settings-2-outline">\n                    </nb-icon>\n                </button>\n            </div>\n        </div>\n    </nb-layout-header>\n\n\n\n    <nb-sidebar *ngIf="true" left class="leftsidebar">\n\n        <nb-sidebar-header>\n\n            <button fxFlex nbButton hero size="medium" status="danger">Create New</button>\n\n\n        </nb-sidebar-header>\n\n        <nb-menu [items]="items">\n        </nb-menu>\n\n        <nb-sidebar-footer>\n            <button fxFlex nbButton hero size="medium" status="success">Create New</button>\n\n        </nb-sidebar-footer>\n    </nb-sidebar>\n\n\n    <nb-layout-column >\n\n\n\n\n        <app-form-builder [toggleDragAndScroll]="toggleDragAndScroll" #formBuilder\n            [form_schema_id]="formSchema.form_id"></app-form-builder>\n\n\n\n    </nb-layout-column>\n\n\n\n    <nb-sidebar *ngIf="true" right class="rightsidebar">\n\n\n\n        <nb-sidebar-header>\n\n\n\n            <button disabled nbButton hero size="medium" fxFlex status="basic">\n\n                <span fxFlex fxLayoutAlign="start center">\n                    Components\n                </span>\n\n\n\n                <button (click)="toggleScroll()" nbButton ghost [status]=" toggleDragAndScroll ?  \'danger\' : \'basic\'"\n                    size="tiny">\n\n                    <nb-icon icon="move">\n                    </nb-icon>\n                </button>\n\n                <button nbButton ghost status="basic" size="tiny">\n\n                    <nb-icon icon="eye">\n                    </nb-icon>\n                </button>\n\n\n\n            </button>\n\n\n\n\n\n\n\n        </nb-sidebar-header>\n\n        <nb-list>\n            <nb-list-item (click)="addField(componentType)" *ngFor="let componentType of componentTypes"\n                class="lisitem">\n                {{ componentType.title }}\n            </nb-list-item>\n        </nb-list>\n\n\n\n\n        <nb-sidebar-footer>\n\n\n            <button fxFlex nbButton hero size="medium" status="success">Create New</button>\n\n        </nb-sidebar-footer>\n\n\n    </nb-sidebar>\n\n</nb-layout>\n\n\n\n\n<ng-template #formAutoComplete>\n\n    <div fxFlex="25%">\n        <span class="h6">\n            Secoflex\n        </span>\n    </div>\n\n    <div fxFlex="50%">\n\n\n        <nb-form-field fxFlex appearance="filled">\n\n\n\n            <nb-icon nbPrefix size="small" ghost icon="search-outline" pack="eva">\n            </nb-icon>\n\n\n            <input (keyup.escape)=" formInput.blur() " fullWidth [formControl]="inputFormControl" nbInput type="text"\n                placeholder="Create new" fieldSize="medium" [nbAutocomplete]="autoControl" />\n\n            <button size="large" *ngIf="inputFormControl.value.length" nbSuffix nbButton ghost\n                (click)="inputFormControl.value = \'\' ">\n                <nb-icon icon="close-circle-outline" pack="eva">\n                </nb-icon>\n            </button>\n        </nb-form-field>\n\n        <nb-autocomplete (selectedChange)="formAutoCompleteSelectionChanged($event   )" #autoControl size="medium"\n            [activeFirst]="true">\n\n\n            <nb-option *ngFor="let option of filteredControlOptions$ | async" [value]="option.form_name ">\n                {{ option.form_name }}\n            </nb-option>\n        </nb-autocomplete>\n\n\n        <ng-template #searchBarTemplate>\n\n\n            <button fxLayoutAlign="start center" size="large" ghost nbButton fxFlex>\n\n                <nb-icon icon="search-outline" pack="eva">\n                </nb-icon>\n            </button>\n\n\n        </ng-template>\n    </div>\n\n    <div fxFlex="25%" fxLayoutAlign="end">\n        <nb-actions size="small">\n\n            <nb-action icon="power-outline"></nb-action>\n            <nb-action icon="person-outline"></nb-action>\n            <nb-action icon="home-outline"></nb-action>\n            <nb-action>Some Action</nb-action>\n        </nb-actions>\n\n    </div>\n\n\n</ng-template>\n\n\n<ng-template #formActionTemplate>\n    <div fxFlex="50%" fxLayoutAlign="end">\n\n        <nb-actions size="small">\n            <nb-action (click)="onFocusShift(true)" icon="search-outline"></nb-action>\n            <nb-action icon="power-outline"></nb-action>\n            <nb-action icon="person-outline"></nb-action>\n            <nb-action icon="home-outline"></nb-action>\n            <nb-action>Some Action</nb-action>\n        </nb-actions>\n    </div>\n</ng-template>',animations:ne.a,styles:[":host ::ng-deep .rightsidebar {\n  margin-right: 0 !important;\n  margin-left: 0 !important;\n}\n:host ::ng-deep .rightsidebar nb-sidebar {\n  background: #fff !important;\n}\n:host ::ng-deep .rightsidebar .scrollable {\n  background-color: #fff;\n  padding-left: 3px !important;\n  padding-right: 3px !important;\n}\n:host ::ng-deep .rightsidebar .lisitem {\n  border: solid transparent;\n  font-weight: 550;\n}\n:host ::ng-deep .rightsidebar .lisitem:hover {\n  background-color: #e8f0fe;\n  color: #3573e7;\n  font-weight: 750;\n  border: solid transparent;\n  box-shadow: 0 1px 3px rgba(161, 161, 161, 0.12), 0 1px 2px rgba(161, 161, 161, 0.12);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n:host ::ng-deep .rightsidebar nb-sidebar-footer {\n  padding: 0 !important;\n}\n:host ::ng-deep .rightsidebar nb-sidebar-header {\n  padding: 0 !important;\n}\n:host ::ng-deep .leftsidebar nb-sidebar {\n  background: #fff;\n}\n:host ::ng-deep .leftsidebar .layout-container {\n  background: #fafafa;\n}\n:host ::ng-deep .leftsidebar .menu-item {\n  border: none !important;\n}\n:host ::ng-deep .leftsidebar nb-sidebar-footer {\n  padding: 0 !important;\n}\n:host ::ng-deep .leftsidebar nb-sidebar-header {\n  padding: 0 !important;\n}\n:host ::ng-deep .leftsidebar .layout-container {\n  max-width: 1440px;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n.heading {\n  color: #383737;\n  padding-left: 1rem;\n}\n.popmenu {\n  padding: 1rem;\n  background: #fff;\n}"]})],_e);var xe=function(){function e(){h(this,e)}return p(e,[{key:"ngOnInit",value:function(){}}]),e}();xe.ctorParameters=function(){return[]},xe=Object(d.a)([Object(f.n)({selector:"app-form-customizer",template:"<p>form-customizer works!</p>\n",styles:[""]})],xe);var ke=function(e){r(t,e);var n=s(t);function t(e,i){var o;return h(this,t),(o=n.call(this)).uploadService=e,o.apiService=i,o.fileUrl=E.a,o.uploading=!1,o.editMode=!1,o.uploadProgress=0,o.chaningFileName=!1,o.deleteInProgress=!1,o.createInProgress=!0,o}return p(t,[{key:"toggleEditMode",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 1==t||e&&1==this.editMode?e.stopPropagation():(this.editMode=!this.editMode,void(this.editMode&&setTimeout(function(){n.filenameInput.nativeElement.focus();var e=n.filenameInput.nativeElement.value.lastIndexOf(".");e<0&&(e=n.filenameInput.nativeElement.value.length),n.filenameInput.nativeElement.setSelectionRange(0,e)},0)))}},{key:"ngOnInit",value:function(){var e=this;this.file?(this.uploadObservable=this.uploadService.upload(this.file,this.fileData.token).pipe(Object(O.a)(function(n){e.createInProgress=!1,e.uploading=!0})).subscribe(function(n){1==n.status?(e.uploading=!1,e.uploadProgress=n.progress):(e.uploading=!0,e.uploadProgress=n.progress),console.log("uploadStatus",n)}),console.log("file aailable for upload")):this.createInProgress=!1}},{key:"clearSelection",value:function(){window.getSelection&&window.getSelection().removeAllRanges()}},{key:"setFilename",value:function(e){var n=this;1!=this.chaningFileName&&(this.clearSelection(),this.chaningFileName=!0,this.uploadService.renameFile(this.fileData.fileid,e).subscribe(function(e){n.chaningFileName=!1,n.toggleEditMode(void 0)}))}},{key:"onFilenameFocus",value:function(e){console.log("onFilenameFocus",e)}},{key:"downloadFile",value:function(){this.fileData&&"UPLOADED"==this.fileData.state&&window.open(this.fileUrl+"api/v2/file/download/"+this.fileData.fileid,"_blank")}},{key:"deleteFile",value:function(){var e=this;this.fileData&&this.fileData.fileid&&(this.deleteInProgress=!0,this.apiService.deleteFile(this.fileData.fileid).subscribe(function(n){e.deleteInProgress=!1}),this.uploadObservable&&this.uploadObservable.unsubscribe())}}]),t}(y);function we(e,n){}ke.ctorParameters=function(){return[{type:N},{type:j}]},ke.propDecorators={filenameInput:[{type:f.qb,args:["filename"]}],fileData:[{type:f.I,args:["fileData"]}],file:[{type:f.I,args:["file"]}]},ke=Object(d.a)([Object(f.n)({selector:"app-upload",template:'<ng-container *ngIf="fileData; else fileUploadTemplate">\n\n  <div fxLayout="column">\n\n\n\n    \x3c!-- <div (click)="deleteFile()" class="flex-item" fxLayout="column" fxFlex fxLayoutAlign="center center">   </div> --\x3e\n\n\n    <div class="border" [nbSpinner]="deleteInProgress || createInProgress">\n\n\n\n\n      <nb-form-field (click)="toggleEditMode( $event  )" class="margin-nested" [nbSpinner]="chaningFileName"\n        nbSpinnerSize="tiny">\n\n\n        \x3c!-- <button *ngIf="!editMode; else saveButton" (click)="deleteFile(  )" size="tiny" nbPrefix nbButton ghost> --\x3e\n        <nb-icon icon="file-text-outline" pack="eva" nbPrefix>\n        </nb-icon>\n        \x3c!-- </button> --\x3e\n\n        <button *ngIf="!editMode; else saveButton" (click)="toggleEditMode( $event  )" size="tiny" nbSuffix nbButton\n          ghost>\n          <nb-icon icon="edit-outline" pack="eva">\n          </nb-icon>\n        </button>\n\n        <ng-template #saveButton>\n          <button (click)="setFilename( filename.value  )" size="tiny" nbSuffix nbButton ghost>\n            <nb-icon icon="checkmark-outline" pack="eva">\n            </nb-icon>\n          </button>\n\n        </ng-template>\n\n\n\n        <input (blur)="setFilename(filename.value )" (keyup.enter)="setFilename(filename.value )" #filename\n          [disabled]="!editMode || chaningFileName" [value]="fileData?.filename" class="filename" fieldSize="medium"\n          type="text" nbInput placeholder="Filename">\n\n        \x3c!-- <button nbSuffix nbButton ghost size="tiny">\n                <nb-icon icon="code-download-outline" pack="eva">\n                </nb-icon>\n            </button> --\x3e\n\n      </nb-form-field>\n\n\n      \x3c!-- [ngStyle]="{  \'visibility\': uploading ? \'visible\' : \'hidden\'   }" --\x3e\n      <div fxLayoutAlign="center center" fxFill class="bottombar progressbar  margin-nested">\n        <nb-progress-bar *ngIf="uploading ; else extension" fxFlex size="tiny" fullWidth [value]="uploadProgress" status="success">\n          {{uploadProgress}}%\n        </nb-progress-bar>\n        <ng-template #extension>\n          <div  fxFlex fxLayoutAlign="end center">\n            <span nbButton class="tag tag-small tag-bordered"> PDF</span>\n            <span nbButton (click)="deleteFile()" class="tag tag-small tag-filled"> Delete</span>\n\n          </div>\n        </ng-template>\n\n      </div>\n\n    </div>\n\n    \n  </div>\n\n</ng-container>\n\n<ng-template #fileUploadTemplate>\n  <ng-container *ngIf="file">\n    Helllo World {{file.name}}\n  </ng-container>\n</ng-template>\n',styles:['.item {\n  border-radius: 0.7rem;\n}\n\n.item:hover {\n  background-color: var(--button-filled-basic-background-color);\n}\n\n.bottombar {\n  height: 2rem;\n}\n\n.flex-item {\n  content: "";\n  float: left;\n  padding-top: 100%;\n  height: auto;\n  position: relative;\n  background-size: cover;\n  background-position: center;\n  background-image: url(/assets/svg/file.svg);\n  border-top-left-radius: 1rem;\n  border-top-right-radius: 1rem;\n}\n\n.margin {\n  margin: 4px;\n}\n\n.margin-nested {\n  margin-top: 4px;\n  margin-top: 4px;\n}\n\n.filename {\n  font-weight: 550 !important;\n  padding-left: 0.5rem;\n  border: none;\n  color: #fff !important;\n}\n\n.filename:disabled {\n  color: #fff !important;\n  font-weight: 400 !important;\n}\n\n.margin {\n  border-top-right-radius: 0.3rem;\n  border-top-left-radius: 0.3rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n\n.margin:hover {\n  background-color: #222b454a;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}']})],ke);var Se=function(){var e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null},Oe=function e(){h(this,e),this.onBeforePaste=new f.y,this.onBlur=new f.y,this.onClick=new f.y,this.onContextMenu=new f.y,this.onCopy=new f.y,this.onCut=new f.y,this.onDblclick=new f.y,this.onDrag=new f.y,this.onDragDrop=new f.y,this.onDragEnd=new f.y,this.onDragGesture=new f.y,this.onDragOver=new f.y,this.onDrop=new f.y,this.onFocus=new f.y,this.onFocusIn=new f.y,this.onFocusOut=new f.y,this.onKeyDown=new f.y,this.onKeyPress=new f.y,this.onKeyUp=new f.y,this.onMouseDown=new f.y,this.onMouseEnter=new f.y,this.onMouseLeave=new f.y,this.onMouseMove=new f.y,this.onMouseOut=new f.y,this.onMouseOver=new f.y,this.onMouseUp=new f.y,this.onPaste=new f.y,this.onSelectionChange=new f.y,this.onActivate=new f.y,this.onAddUndo=new f.y,this.onBeforeAddUndo=new f.y,this.onBeforeExecCommand=new f.y,this.onBeforeGetContent=new f.y,this.onBeforeRenderUI=new f.y,this.onBeforeSetContent=new f.y,this.onChange=new f.y,this.onClearUndos=new f.y,this.onDeactivate=new f.y,this.onDirty=new f.y,this.onExecCommand=new f.y,this.onGetContent=new f.y,this.onHide=new f.y,this.onInit=new f.y,this.onInitNgModel=new f.y,this.onLoadContent=new f.y,this.onNodeChange=new f.y,this.onPostProcess=new f.y,this.onPostRender=new f.y,this.onPreInit=new f.y,this.onPreProcess=new f.y,this.onProgressState=new f.y,this.onRedo=new f.y,this.onRemove=new f.y,this.onReset=new f.y,this.onSaveContent=new f.y,this.onSetAttrib=new f.y,this.onObjectResizeStart=new f.y,this.onObjectResized=new f.y,this.onObjectSelected=new f.y,this.onSetContent=new f.y,this.onShow=new f.y,this.onSubmit=new f.y,this.onUndo=new f.y,this.onVisualAid=new f.y};Oe.\u0275fac=function(e){return new(e||Oe)},Oe.\u0275dir=f.Lc({type:Oe,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),Oe.propDecorators={onBeforePaste:[{type:f.U}],onBlur:[{type:f.U}],onClick:[{type:f.U}],onContextMenu:[{type:f.U}],onCopy:[{type:f.U}],onCut:[{type:f.U}],onDblclick:[{type:f.U}],onDrag:[{type:f.U}],onDragDrop:[{type:f.U}],onDragEnd:[{type:f.U}],onDragGesture:[{type:f.U}],onDragOver:[{type:f.U}],onDrop:[{type:f.U}],onFocus:[{type:f.U}],onFocusIn:[{type:f.U}],onFocusOut:[{type:f.U}],onKeyDown:[{type:f.U}],onKeyPress:[{type:f.U}],onKeyUp:[{type:f.U}],onMouseDown:[{type:f.U}],onMouseEnter:[{type:f.U}],onMouseLeave:[{type:f.U}],onMouseMove:[{type:f.U}],onMouseOut:[{type:f.U}],onMouseOver:[{type:f.U}],onMouseUp:[{type:f.U}],onPaste:[{type:f.U}],onSelectionChange:[{type:f.U}],onActivate:[{type:f.U}],onAddUndo:[{type:f.U}],onBeforeAddUndo:[{type:f.U}],onBeforeExecCommand:[{type:f.U}],onBeforeGetContent:[{type:f.U}],onBeforeRenderUI:[{type:f.U}],onBeforeSetContent:[{type:f.U}],onChange:[{type:f.U}],onClearUndos:[{type:f.U}],onDeactivate:[{type:f.U}],onDirty:[{type:f.U}],onExecCommand:[{type:f.U}],onGetContent:[{type:f.U}],onHide:[{type:f.U}],onInit:[{type:f.U}],onInitNgModel:[{type:f.U}],onLoadContent:[{type:f.U}],onNodeChange:[{type:f.U}],onPostProcess:[{type:f.U}],onPostRender:[{type:f.U}],onPreInit:[{type:f.U}],onPreProcess:[{type:f.U}],onProgressState:[{type:f.U}],onRedo:[{type:f.U}],onRemove:[{type:f.U}],onReset:[{type:f.U}],onSaveContent:[{type:f.U}],onSetAttrib:[{type:f.U}],onObjectResizeStart:[{type:f.U}],onObjectResized:[{type:f.U}],onObjectSelected:[{type:f.U}],onSetContent:[{type:f.U}],onShow:[{type:f.U}],onSubmit:[{type:f.U}],onUndo:[{type:f.U}],onVisualAid:[{type:f.U}]};var De,Ce=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Ie=function(e){var n=Pe(e.ignoreEvents,[]);return Pe(e.allowedEvents,Ce).filter(function(e){return Ce.includes(e)&&!n.includes(e)})},Pe=function(e,n){return"string"==typeof e?e.split(",").map(function(e){return e.trim()}):Array.isArray(e)?e:n},Ee=0,Te=function(e){var n=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Ee+String(n)},Fe=function(e){return void 0!==e&&"textarea"===e.tagName.toLowerCase()},je=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},Le=function(){},Re=function(e){return null==e},Ae=function(){return{listeners:[],scriptId:Te("tiny-script"),scriptLoaded:!1}},Ne=(De=Ae(),{load:function(e,n,t){De.scriptLoaded?t():(De.listeners.push(t),e.getElementById(De.scriptId)||function(e,n,t,i){var o=n.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=t,o.addEventListener("load",function e(){o.removeEventListener("load",e),De.listeners.forEach(function(e){return e()}),De.scriptLoaded=!0}),n.head&&n.head.appendChild(o)}(De.scriptId,e,n))},reinitialize:function(){De=Ae()}}),Be=new f.G("TINYMCE_SCRIPT_SRC"),Ue={provide:m.h,useExisting:Object(f.wb)(function(){return ze}),multi:!0},ze=function(e){r(t,e);var n=s(t);function t(e,i,o,r){var a;return h(this,t),(a=n.call(this)).platformId=o,a.tinymceScriptSrc=r,a.cloudChannel="5",a.apiKey="no-api-key",a.id="",a.modelEvents="change input undo redo",a.onTouchedCallback=Le,a.onChangeCallback=Le,a._elementRef=e,a.ngZone=i,a.initialise=a.initialise.bind(c(a)),a}return p(t,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}},{key:"editor",get:function(){return this._editor}},{key:"writeValue",value:function(e){this._editor&&this._editor.initialized?this._editor.setContent(Re(e)?"":e):this.initialValue=null===e?void 0:e}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}},{key:"ngAfterViewInit",value:function(){Object(g.B)(this.platformId)&&(this.id=this.id||Te("tiny-angular"),this.inline=void 0!==this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==Se()?this.initialise():this._element&&this._element.ownerDocument&&Ne.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))}},{key:"ngOnDestroy",value:function(){null!==Se()&&Se().remove(this._editor)}},{key:"createElement",value:function(){var e="string"==typeof this.tagName?this.tagName:"div";this._element=document.createElement(this.inline?e:"textarea"),this._element&&(this._element.id=this.id,Fe(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}},{key:"initialise",value:function(){var e,n,t=this,i=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:(e=this.init&&this.init.plugins,n=this.plugins,je(e).concat(je(n))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:function(e){t._editor=e,e.on("init",function(n){t.initEditor(e)}),function(e,n){Ie(e).forEach(function(t){var i=e[t];n.on(t.substring(2),function(t){return e.ngZone.run(function(){return i.emit({event:t,editor:n})})})})}(t,e),t.init&&"function"==typeof t.init.setup&&t.init.setup(e)}});Fe(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(function(){Se().init(i)})}},{key:"getScriptSrc",value:function(){return Re(this.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(this.apiKey,"/tinymce/").concat(this.cloudChannel,"/tinymce.min.js"):this.tinymceScriptSrc}},{key:"initEditor",value:function(e){var n=this;e.on("blur",function(){return n.ngZone.run(function(){return n.onTouchedCallback()})}),e.on(this.modelEvents,function(){n.ngZone.run(function(){return n.onChangeCallback(e.getContent({format:n.outputFormat}))})}),"string"==typeof this.initialValue&&this.ngZone.run(function(){e.setContent(n.initialValue),e.getContent()!==n.initialValue&&n.onChangeCallback(e.getContent({format:n.outputFormat})),void 0!==n.onInitNgModel&&n.onInitNgModel.emit(e)})}}]),t}(Oe);ze.\u0275fac=function(e){return new(e||ze)(f.Qc(f.v),f.Qc(f.S),f.Qc(f.W),f.Qc(Be,8))},ze.\u0275cmp=f.Kc({type:ze,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[f.Dc([Ue]),f.Bc],decls:1,vars:0,template:function(e,n){1&e&&f.zd(0,we,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),ze.ctorParameters=function(){return[{type:f.v},{type:f.S},{type:Object,decorators:[{type:f.D,args:[f.W]}]},{type:String,decorators:[{type:f.T},{type:f.D,args:[Be]}]}]},ze.ctorParameters=function(){return[{type:f.v},{type:f.S},{type:Object,decorators:[{type:f.D,args:[f.W]}]},{type:String,decorators:[{type:f.T},{type:f.D,args:[Be]}]}]},ze.propDecorators={disabled:[{type:f.I}],cloudChannel:[{type:f.I}],apiKey:[{type:f.I}],init:[{type:f.I}],id:[{type:f.I}],initialValue:[{type:f.I}],outputFormat:[{type:f.I}],inline:[{type:f.I}],tagName:[{type:f.I}],plugins:[{type:f.I}],toolbar:[{type:f.I}],modelEvents:[{type:f.I}],allowedEvents:[{type:f.I}],ignoreEvents:[{type:f.I}]};var Me=function e(){h(this,e)};Me.\u0275mod=f.Oc({type:Me}),Me.\u0275inj=f.Nc({factory:function(e){return new(e||Me)},imports:[[g.c,m.f]]}),("undefined"==typeof ngJitMode||ngJitMode)&&f.wd(Me,{declarations:function(){return[ze]},imports:function(){return[g.c,m.f]},exports:function(){return[ze]}});var Ge=function(){function e(){h(this,e)}return p(e,[{key:"ngOnInit",value:function(){}}]),e}();Ge.ctorParameters=function(){return[]},Ge=Object(d.a)([Object(f.n)({selector:"app-attachment",template:"<p>attachment works!</p>\n",styles:[""]})],Ge);var He=a("AQ5z"),$e=function(){function e(n,t){h(this,e),this.apiService=n,this.router=t,this._onHoverIndex=-1,this.inputFormControl=new m.d("",{validators:[m.n.min(3),m.n.required]}),this.loading=!0,this.items=this.apiService.getFormSchemas,this.filteredItems$=new x.a([])}return p(e,[{key:"ngOnInit",value:function(){var e=this;this.apiService.getFormSchemas.pipe(Object(k.a)(function(e){return null!=e})).subscribe(function(n){e.items=n,e.filteredItems$.next(n),e.loading=!1})}},{key:"assignCopy",value:function(){this.filteredItems$.next(Object.assign([],this.items))}},{key:"filterItem",value:function(e){e||this.assignCopy(),this.filteredItems$.next(Object.assign([],this.items).filter(function(n){return n.form_name.toLowerCase().indexOf(e.toLowerCase())>-1}))}},{key:"createForm",value:function(){var e=this;this.inputFormControl.valid&&this.apiService.createFormSchema(this.inputFormControl.value).subscribe(function(n){console.log(n),e.router.navigate(["/","form-builder",n.form_id])})}},{key:"setOnHoverIndex",value:function(e){this._onHoverIndex=e}},{key:"hoverIndex",get:function(){return this._onHoverIndex}}]),e}();$e.ctorParameters=function(){return[{type:j},{type:ye.f}]},$e=Object(d.a)([Object(f.n)({selector:"app-form-creator",template:'<nb-layout center>\n\n    <nb-layout-header fixed>\n        <div fxFlex fxLayoutAlign="start center">\n\n            <span class="h5">\n                <button nbButton ghost status="danger" size="large">\n\n                    <nb-icon icon="menu-2">\n                    </nb-icon>\n                </button>\n                SecoFlex\n            </span>\n\n\n        </div>\n    </nb-layout-header>\n    <nb-layout-column fxLayoutAlign="center center">\n        <nb-card size="medium" fxFlex @openClose>\n\n            \x3c!-- <nb-card-header> --\x3e\n            \x3c!-- <span class="h6">Create Form</span> --\x3e\n            \x3c!-- </nb-card-header> --\x3e\n\n            <nb-card-header>\n\n                <div fxFlex fxLayoutGap="1rem">\n                    <nb-form-field filled fxFlex>\n\n                        <nb-icon nbPrefix size="large" ghost icon="search-outline" pack="eva">\n                        </nb-icon>\n                        <input [formControl]="inputFormControl" filled #searchInput\n                            (input)="filterItem(searchInput.value)" fieldSize="giant" type="text" nbInput fullWidth\n                            placeholder="Search formschema">\n                    </nb-form-field>\n\n\n                    <div fxLayoutAlign="end center" fxLayoutGap="1rem">\n                        <button (click)="createForm()" outline nbButton status="basic" size="large">\n                            Create New\n                        </button>\n\n\n                    </div>\n                </div>\n\n            </nb-card-header>\n\n\n\n\n            <nb-list [nbSpinner]="loading == true" nbSpinnerSize="large">\n                <nb-list-item (mouseover)="setOnHoverIndex(index)" (mouseout)="setOnHoverIndex(-1)" class="lisitem"\n                    [routerLink]=" [  \'/\', \'form-builder\' , option.form_id ]" @openClose\n                    *ngFor="let option of  filteredItems$  | async ; index as index">\n                    <div fxFlex fxLayoutAlign="end center">\n                        <span class="h6" fxFlex>\n                            {{ option.form_name  }}\n                            \n                        </span>\n\n                    \n\n                        <button  [ngStyle]="{  \'visibility\' :  (hoverIndex == index) ? \'visible\': \'hidden\' }"  nbButton ghost status="basic" size="large">\n\n                            <nb-icon icon="trash">\n                            </nb-icon>\n                        </button>\n                    </div>\n\n\n\n                </nb-list-item>\n            </nb-list>\n\n\n            <nb-card-footer>\n                <div fxFlex fxLayoutAlign="end" fxLayoutGap="1rem">\n                    <button nbButton ghost status="danger" size="medium">\n                        Create New\n                    </button>\n\n                    <button nbButton status="success" size="medium">\n                        Edit\n                    </button>\n                </div>\n            </nb-card-footer>\n\n\n        </nb-card>\n\n\n    </nb-layout-column>\n\n</nb-layout>',animations:n(ne.a),styles:[".lisitem {\n  margin-left: 3px;\n  margin-right: 3px;\n  border: solid transparent !important;\n  border-width: 0 0 0 0;\n  font-weight: 650;\n}\n\n.lisitem:hover {\n  background-color: #e8f0fe;\n  color: #3573e7;\n  font-weight: 750;\n  border: solid transparent !important;\n  box-shadow: 0 1px 3px rgba(161, 161, 161, 0.12), 0 1px 2px rgba(161, 161, 161, 0.12);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n  border-width: 0 0 0 0;\n}\n\nnb-list-item {\n  padding-top: 0.5rem !important;\n  padding-bottom: 0.5rem !important;\n  padding-left: 1.5rem;\n}"]})],$e);var qe=a("vxfF"),Ve=a("nLfN"),We=a("8LU1"),Qe=a("quSY"),Ke=a("l5mm"),Xe=a("eNwd"),Ze=a("1G5W"),Je=a("IzEk"),Ye=a("eIep"),en=a("cH1L");function nn(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function tn(e,n){var t=n?"":"none";nn(e.style,{touchAction:n?"":"none",webkitUserDrag:n?"":"none",webkitTapHighlightColor:n?"":"transparent",userSelect:t,msUserSelect:t,webkitUserSelect:t,MozUserSelect:t})}function on(e,n){var t=e.style;t.position=n?"":"fixed",t.top=t.opacity=n?"":"0",t.left=n?"":"-999em"}function rn(e){var n=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*n}function an(e,n){return e.getPropertyValue(n).split(",").map(function(e){return e.trim()})}function sn(e){var n=e.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}function ln(e,n,t){var i=e.top,o=e.bottom,r=e.left,a=e.right;return t>=i&&t<=o&&n>=r&&n<=a}function cn(e,n,t){e.top+=n,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function un(e,n,t,i){var o=e.top,r=e.right,a=e.bottom,s=e.left,l=e.width*n,c=e.height*n;return i>o-c&&i<a+c&&t>s-l&&t<r+l}var dn=function(){function e(n,t){h(this,e),this._document=n,this._viewportRuler=t,this.positions=new Map}return p(e,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(e){var n=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(function(e){n.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:sn(e)})})}},{key:"handleScroll",value:function(e){var n=e.target,t=this.positions.get(n);if(!t)return null;var i,o,r=n===this._document?n.documentElement:n,a=t.scrollPosition;if(n===this._document){var s=this._viewportRuler.getViewportScrollPosition();i=s.top,o=s.left}else i=n.scrollTop,o=n.scrollLeft;var l=a.top-i,c=a.left-o;return this.positions.forEach(function(e,t){e.clientRect&&n!==t&&r.contains(t)&&cn(e.clientRect,l,c)}),a.top=i,a.left=o,{top:l,left:c}}}]),e}();function pn(e){var n=e.cloneNode(!0),t=n.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();n.removeAttribute("id");for(var o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===i?bn(e,n):"input"!==i&&"select"!==i&&"textarea"!==i||gn(e,n),hn("canvas",e,n,bn),hn("input, textarea, select",e,n,gn),n}function hn(e,n,t,i){var o=n.querySelectorAll(e);if(o.length)for(var r=t.querySelectorAll(e),a=0;a<o.length;a++)i(o[a],r[a])}var fn=0;function gn(e,n){"file"!==n.type&&(n.value=e.value),"radio"===n.type&&n.name&&(n.name="mat-clone-".concat(n.name,"-").concat(fn++))}function bn(e,n){var t=n.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch(i){}}var mn=Object(Ve.e)({passive:!0}),vn=Object(Ve.e)({passive:!1}),yn=function(){function e(n,t,i,o,r,a){var s=this;h(this,e),this._config=t,this._document=i,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new L.a,this._pointerMoveSubscription=Qe.a.EMPTY,this._pointerUpSubscription=Qe.a.EMPTY,this._scrollSubscription=Qe.a.EMPTY,this._resizeSubscription=Qe.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new L.a,this.started=new L.a,this.released=new L.a,this.ended=new L.a,this.entered=new L.a,this.exited=new L.a,this.dropped=new L.a,this.moved=this._moveEvents,this._pointerDown=function(e){if(s.beforeStarted.next(),s._handles.length){var n=s._handles.find(function(n){var t=e.target;return!!t&&(t===n||n.contains(t))});!n||s._disabledHandles.has(n)||s.disabled||s._initializeDragSequence(n,e)}else s.disabled||s._initializeDragSequence(s._rootElement,e)},this._pointerMove=function(e){var n=s._getPointerPositionOnPage(e);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect())),e.preventDefault();var t=s._getConstrainedPointerPosition(n);if(s._hasMoved=!0,s._lastKnownPointerPosition=n,s._updatePointerDirectionDelta(t),s._dropContainer)s._updateActiveDropContainer(t,n);else{var i=s._activeTransform;if(i.x=t.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=t.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement){var o="translate(".concat(i.x," ").concat(i.y,")");s._rootElement.setAttribute("transform",o)}}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:t,event:e,distance:s._getDragDistance(t),delta:s._pointerDirectionDelta})})}else if(Math.abs(n.x-s._pickupPositionOnPage.x)+Math.abs(n.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var r=Date.now()>=s._dragStartTime+s._getDragStartDelay(e),a=s._dropContainer;if(!r)return void s._endDragSequence(e);a&&(a.isDragging()||a.isReceiving())||(s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(e)}))}},this._pointerUp=function(e){s._endDragSequence(e)},this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new dn(i,r),a.registerDragItem(this)}return p(e,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(e){var n=Object(We.b)(e);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(function(e){return tn(e,n)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(e){var n=this;this._handles=e.map(function(e){return Object(We.d)(e)}),this._handles.forEach(function(e){return tn(e,n.disabled)}),this._toggleNativeDragInteractions();var t=new Set;return this._disabledHandles.forEach(function(e){n._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}},{key:"withPreviewTemplate",value:function(e){return this._previewTemplate=e,this}},{key:"withPlaceholderTemplate",value:function(e){return this._placeholderTemplate=e,this}},{key:"withRootElement",value:function(e){var n=this,t=Object(We.d)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){t.addEventListener("mousedown",n._pointerDown,vn),t.addEventListener("touchstart",n._pointerDown,mn)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(e){var n=this;return this._boundaryElement=e?Object(We.d)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return n._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(e){return this._parentDragRef=e,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&kn(this._rootElement),kn(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),tn(e,!0))}},{key:"enableHandle",value:function(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),tn(e,this.disabled))}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"_withDropContainer",value:function(e){this._dropContainer=e}},{key:"getFreeDragPosition",value:function(){var e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}},{key:"setFreeDragPosition",value:function(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&kn(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&kn(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(e){var n=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){n._cleanupDragArtifacts(e),n._cleanupCachedDimensions(),n._dragDropRegistry.stopDragging(n)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){n.ended.next({source:n,distance:n._getDragDistance(n._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(e){wn(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var n=this._dropContainer;if(n){var t=this._rootElement,i=t.parentNode,o=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();i.insertBefore(a,t),on(t,!1),this._document.body.appendChild(i.replaceChild(r,t)),function(e,n){return n||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}(this._document,s).appendChild(o),this.started.next({source:this}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(e,n){var t=this;this._parentDragRef&&n.stopPropagation();var i=this.isDragging(),o=wn(n),r=!o&&0!==n.button,a=this._rootElement,s=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(n.target&&n.target.draggable&&"mousedown"===n.type&&n.preventDefault(),!(i||r||s)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(function(e){t._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=sn(this._boundaryElement));var l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,n);var c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}}},{key:"_cleanupDragArtifacts",value:function(e){var n=this;on(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var t=n._dropContainer,i=t.getItemIndex(n),o=n._getPointerPositionOnPage(e),r=n._getDragDistance(n._getPointerPositionOnPage(e)),a=t._isOverContainer(o.x,o.y);n.ended.next({source:n,distance:r}),n.dropped.next({item:n,currentIndex:i,previousIndex:n._initialIndex,container:t,previousContainer:n._initialContainer,isPointerOverContainer:a,distance:r}),t.drop(n,i,n._initialIndex,n._initialContainer,a,r),n._dropContainer=n._initialContainer})}},{key:"_updateActiveDropContainer",value:function(e,n){var t=this,i=e.x,o=e.y,r=n.x,a=n.y,s=this._initialContainer._getSiblingContainerFromPosition(this,i,o);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,o)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){t.exited.next({item:t,container:t._dropContainer}),t._dropContainer.exit(t),t._dropContainer=s,t._dropContainer.enter(t,i,o,s===t._initialContainer&&s.sortingDisabled?t._initialIndex:void 0),t.entered.next({item:t,container:s,currentIndex:s.getItemIndex(t)})}),this._dropContainer._startScrollingIfNecessary(r,a),this._dropContainer._sortItem(this,i,o,this._pointerDirectionDelta),this._preview.style.transform=_n(i-this._pickupPositionInElement.x,o-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var e,n=this._previewTemplate,t=this.previewClass,i=n?n.template:null;if(i&&n){var o=n.matchSize?this._rootElement.getBoundingClientRect():null,r=n.viewContainer.createEmbeddedView(i,n.context);r.detectChanges(),e=Sn(r,this._document),this._previewRef=r,n.matchSize?On(e,o):e.style.transform=_n(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement;On(e=pn(a),a.getBoundingClientRect())}return nn(e.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),tn(e,!1),e.classList.add("cdk-drag-preview"),e.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(function(n){return e.classList.add(n)}):e.classList.add(t)),e}},{key:"_animatePreviewToPlaceholder",value:function(){var e=this;if(!this._hasMoved)return Promise.resolve();var n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=_n(n.left,n.top);var t=function(e){var n=getComputedStyle(e),t=an(n,"transition-property"),i=t.find(function(e){return"transform"===e||"all"===e});if(!i)return 0;var o=t.indexOf(i),r=an(n,"transition-duration"),a=an(n,"transition-delay");return rn(r[o])+rn(a[o])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(n){var i=function t(i){(!i||i.target===e._preview&&"transform"===i.propertyName)&&(e._preview.removeEventListener("transitionend",t),n(),clearTimeout(o))},o=setTimeout(i,1.5*t);e._preview.addEventListener("transitionend",i)})})}},{key:"_createPlaceholderElement",value:function(){var e,n=this._placeholderTemplate,t=n?n.template:null;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),e=Sn(this._placeholderRef,this._document)):e=pn(this._rootElement),e.classList.add("cdk-drag-placeholder"),e}},{key:"_getPointerPositionInElement",value:function(e,n){var t=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,o=i?i.getBoundingClientRect():t,r=wn(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),s=r.pageX-o.left-a.left,l=r.pageY-o.top-a.top;return{x:o.left-t.left+s,y:o.top-t.top+l}}},{key:"_getPointerPositionOnPage",value:function(e){var n=this._getViewportScrollPosition(),t=wn(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=t.pageX-n.left,o=t.pageY-n.top;if(this._ownerSVGElement){var r=this._ownerSVGElement.getScreenCTM();if(r){var a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(r.inverse())}}return{x:i,y:o}}},{key:"_getConstrainedPointerPosition",value:function(e){var n=this._dropContainer?this._dropContainer.lockAxis:null,t=this.constrainPosition?this.constrainPosition(e,this):e,i=t.x,o=t.y;if("x"===this.lockAxis||"x"===n?o=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(i=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,a=r.x,s=r.y,l=this._boundaryRect,c=this._previewRect,u=l.top+s,d=l.bottom-(c.height-s);i=xn(i,l.left+a,l.right-(c.width-a)),o=xn(o,u,d)}return{x:i,y:o}}},{key:"_updatePointerDirectionDelta",value:function(e){var n=e.x,t=e.y,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,r=Math.abs(n-o.x),a=Math.abs(t-o.y);return r>this._config.pointerDirectionChangeThreshold&&(i.x=n>o.x?1:-1,o.x=n),a>this._config.pointerDirectionChangeThreshold&&(i.y=t>o.y?1:-1,o.y=t),i}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,tn(this._rootElement,e))}}},{key:"_removeRootElementListeners",value:function(e){e.removeEventListener("mousedown",this._pointerDown,vn),e.removeEventListener("touchstart",this._pointerDown,mn)}},{key:"_applyRootElementTransform",value:function(e,n){var t=_n(e,n);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?t+" "+this._initialTransform:t}},{key:"_getDragDistance",value:function(e){var n=this._pickupPositionOnPage;return n?{x:e.x-n.x,y:e.y-n.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var e=this._passiveTransform,n=e.x,t=e.y;if(!(0===n&&0===t||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===o.width&&0===o.height)){var r=i.left-o.left,a=o.right-i.right,s=i.top-o.top,l=o.bottom-i.bottom;i.width>o.width?(r>0&&(n+=r),a>0&&(n-=a)):n=0,i.height>o.height?(s>0&&(t+=s),l>0&&(t-=l)):t=0,n===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:n})}}}},{key:"_getDragStartDelay",value:function(e){var n=this.dragStartDelay;return"number"==typeof n?n:wn(e)?n.touch:n?n.mouse:0}},{key:"_updateOnScroll",value:function(e){var n=this._parentPositions.handleScroll(e);if(n){var t=e.target;this._boundaryRect&&(t===this._document||t!==this._boundaryElement&&t.contains(this._boundaryElement))&&cn(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Object(Ve.c)(this._rootElement)),this._cachedShadowRoot}}]),e}();function _n(e,n){return"translate3d(".concat(Math.round(e),"px, ").concat(Math.round(n),"px, 0)")}function xn(e,n,t){return Math.max(n,Math.min(t,e))}function kn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function wn(e){return"t"===e.type[0]}function Sn(e,n){var t=e.rootNodes;if(1===t.length&&t[0].nodeType===n.ELEMENT_NODE)return t[0];var i=n.createElement("div");return t.forEach(function(e){return i.appendChild(e)}),i}function On(e,n){e.style.width=n.width+"px",e.style.height=n.height+"px",e.style.transform=_n(n.left,n.top)}function Dn(e,n){return Math.max(0,Math.min(n,e))}var Cn=function(){function t(e,n,i,o,r){var a=this;h(this,t),this._dragDropRegistry=n,this._ngZone=o,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new L.a,this.entered=new L.a,this.exited=new L.a,this.dropped=new L.a,this.sorted=new L.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Qe.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new L.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){a._stopScrolling(),Object(Ke.a)(0,Xe.a).pipe(Object(Ze.a)(a._stopScrollTimers)).subscribe(function(){var e=a._scrollNode,n=a.autoScrollStep;1===a._verticalScrollDirection?Pn(e,-n):2===a._verticalScrollDirection&&Pn(e,n),1===a._horizontalScrollDirection?En(e,-n):2===a._horizontalScrollDirection&&En(e,n)})},this.element=Object(We.d)(e),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new dn(i,r)}return p(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(e,n,t,i){var o;this._draggingStarted(),null==i?-1===(o=this.sortingDisabled?this._draggables.indexOf(e):-1)&&(o=this._getItemIndexFromPointerPosition(e,n,t)):o=i;var r=this._activeDraggables,a=r.indexOf(e),s=e.getPlaceholderElement(),l=r[o];if(l===e&&(l=r[o+1]),a>-1&&r.splice(a,1),l&&!this._dragDropRegistry.isDragging(l)){var c=l.getRootElement();c.parentElement.insertBefore(s,c),r.splice(o,0,e)}else if(this._shouldEnterAsFirstChild(n,t)){var u=r[0].getRootElement();u.parentNode.insertBefore(s,u),r.unshift(e)}else Object(We.d)(this.element).appendChild(s),r.push(e);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}},{key:"exit",value:function(e){this._reset(),this.exited.next({item:e,container:this})}},{key:"drop",value:function(e,n,t,i,o,r){this._reset(),this.dropped.next({item:e,currentIndex:n,previousIndex:t,container:this,previousContainer:i,isPointerOverContainer:o,distance:r})}},{key:"withItems",value:function(e){var n=this,t=this._draggables;return this._draggables=e,e.forEach(function(e){return e._withDropContainer(n)}),this.isDragging()&&(t.filter(function(e){return e.isDragging()}).every(function(n){return-1===e.indexOf(n)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"connectedTo",value:function(e){return this._siblings=e.slice(),this}},{key:"withOrientation",value:function(e){return this._orientation=e,this}},{key:"withScrollableParents",value:function(e){var t=Object(We.d)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t].concat(n(e)):e.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(e){return this._isDragging?In("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(n){return n.drag===e}):this._draggables.indexOf(e)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(e,n,t,i){if(!this.sortingDisabled&&this._clientRect&&un(this._clientRect,.05,n,t)){var o=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,n,t,i);if(!(-1===r&&o.length>0)){var a="horizontal"===this._orientation,s=In(o,function(n){return n.drag===e}),l=o[r],c=o[s].clientRect,u=l.clientRect,d=s>r?1:-1,p=this._getItemOffsetPx(c,u,d),h=this._getSiblingOffsetPx(s,o,d),f=o.slice();!function(e,n,t){var i=Dn(n,e.length-1),o=Dn(t,e.length-1);if(i!==o){for(var r=e[i],a=o<i?-1:1,s=i;s!==o;s+=a)e[s]=e[s+a];e[o]=r}}(o,s,r),this.sorted.next({previousIndex:s,currentIndex:r,container:this,item:e}),o.forEach(function(n,t){if(f[t]!==n){var i=n.drag===e,o=i?p:h,r=i?e.getPlaceholderElement():n.drag.getRootElement();n.offset+=o,a?(r.style.transform="translate3d(".concat(Math.round(n.offset),"px, 0, 0)"),cn(n.clientRect,0,o)):(r.style.transform="translate3d(0, ".concat(Math.round(n.offset),"px, 0)"),cn(n.clientRect,o,0))}}),this._previousSwap.overlaps=ln(u,n,t),this._previousSwap.drag=l.drag,this._previousSwap.delta=a?i.x:i.y}}}},{key:"_startScrollingIfNecessary",value:function(n,t){var i=this;if(!this.autoScrollDisabled){var o,r=0,a=0;if(this._parentPositions.positions.forEach(function(s,l){var c;l!==i._document&&s.clientRect&&!o&&un(s.clientRect,.05,n,t)&&(c=e(function(e,n,t,i){var o=Tn(n,i),r=Fn(n,t),a=0,s=0;if(o){var l=e.scrollTop;1===o?l>0&&(a=1):e.scrollHeight-l>e.clientHeight&&(a=2)}if(r){var c=e.scrollLeft;1===r?c>0&&(s=1):e.scrollWidth-c>e.clientWidth&&(s=2)}return[a,s]}(l,s.clientRect,n,t),2),r=c[0],a=c[1],(r||a)&&(o=l))}),!r&&!a){var s=this._viewportRuler.getViewportSize(),l=s.width,c=s.height,u={width:l,height:c,top:0,right:l,bottom:c,left:0};r=Tn(u,t),a=Fn(u,n),o=window}!o||r===this._verticalScrollDirection&&a===this._horizontalScrollDirection&&o===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=a,this._scrollNode=o,(r||a)&&o?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var e=Object(We.d)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var e=Object(We.d)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}},{key:"_cacheItemPositions",value:function(){var e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(e){var n=e.getVisibleElement();return{drag:e,offset:0,clientRect:sn(n)}}).sort(function(n,t){return e?n.clientRect.left-t.clientRect.left:n.clientRect.top-t.clientRect.top})}},{key:"_reset",value:function(){var e=this;this._isDragging=!1;var n=Object(We.d)(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var n=e.getRootElement();n&&(n.style.transform="")}),this._siblings.forEach(function(n){return n._stopReceiving(e)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(e,n,t){var i="horizontal"===this._orientation,o=n[e].clientRect,r=n[e+-1*t],a=o[i?"width":"height"]*t;if(r){var s=i?"left":"top",l=i?"right":"bottom";-1===t?a-=r.clientRect[s]-o[l]:a+=o[s]-r.clientRect[l]}return a}},{key:"_getItemOffsetPx",value:function(e,n,t){var i="horizontal"===this._orientation,o=i?n.left-e.left:n.top-e.top;return-1===t&&(o+=i?n.width-e.width:n.height-e.height),o}},{key:"_shouldEnterAsFirstChild",value:function(e,n){if(!this._activeDraggables.length)return!1;var t=this._itemPositions,i="horizontal"===this._orientation;if(t[0].drag!==this._activeDraggables[0]){var o=t[t.length-1].clientRect;return i?e>=o.right:n>=o.bottom}var r=t[0].clientRect;return i?e<=r.left:n<=r.top}},{key:"_getItemIndexFromPointerPosition",value:function(e,n,t,i){var o=this,r="horizontal"===this._orientation,a=In(this._itemPositions,function(a,s,l){var c=a.drag,u=a.clientRect;if(c===e)return l.length<2;if(i){var d=r?i.x:i.y;if(c===o._previousSwap.drag&&o._previousSwap.overlaps&&d===o._previousSwap.delta)return!1}return r?n>=Math.floor(u.left)&&n<Math.floor(u.right):t>=Math.floor(u.top)&&t<Math.floor(u.bottom)});return-1!==a&&this.sortPredicate(a,e,this)?a:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(e,n){return null!=this._clientRect&&ln(this._clientRect,e,n)}},{key:"_getSiblingContainerFromPosition",value:function(e,n,t){return this._siblings.find(function(i){return i._canReceive(e,n,t)})}},{key:"_canReceive",value:function(e,n,t){if(!this._clientRect||!ln(this._clientRect,n,t)||!this.enterPredicate(e,this))return!1;var i=this._getShadowRoot().elementFromPoint(n,t);if(!i)return!1;var o=Object(We.d)(this.element);return i===o||o.contains(i)}},{key:"_startReceiving",value:function(e,n){var t=this,i=this._activeSiblings;!i.has(e)&&n.every(function(e){return t.enterPredicate(e,t)||t._draggables.indexOf(e)>-1})&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var e=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(function(n){if(e.isDragging()){var t=e._parentPositions.handleScroll(n);t&&(e._itemPositions.forEach(function(e){cn(e.clientRect,t.top,t.left)}),e._itemPositions.forEach(function(n){var t=n.drag;e._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else e.isReceiving()&&e._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var e=Object(Ve.c)(Object(We.d)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var e=this,n=this._activeDraggables.filter(function(e){return e.isDragging()});this._siblings.forEach(function(t){return t._startReceiving(e,n)})}}]),t}();function In(e,n){for(var t=0;t<e.length;t++)if(n(e[t],t,e))return t;return-1}function Pn(e,n){e===window?e.scrollBy(0,n):e.scrollTop+=n}function En(e,n){e===window?e.scrollBy(n,0):e.scrollLeft+=n}function Tn(e,n){var t=e.top,i=e.bottom,o=.05*e.height;return n>=t-o&&n<=t+o?1:n>=i-o&&n<=i+o?2:0}function Fn(e,n){var t=e.left,i=e.right,o=.05*e.width;return n>=t-o&&n<=t+o?1:n>=i-o&&n<=i+o?2:0}var jn=Object(Ve.e)({passive:!1,capture:!0}),Ln=function(){function e(n,t){var i=this;h(this,e),this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(e){return e.isDragging()},this.pointerMove=new L.a,this.pointerUp=new L.a,this.scroll=new L.a,this._preventDefaultWhileDragging=function(e){i._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=function(e){i._activeDragInstances.length>0&&(i._activeDragInstances.some(i._draggingPredicate)&&e.preventDefault(),i.pointerMove.next(e))},this._document=t}return p(e,[{key:"registerDropContainer",value:function(e){this._dropInstances.has(e)||this._dropInstances.add(e)}},{key:"registerDragItem",value:function(e){var n=this;this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){n._document.addEventListener("touchmove",n._persistentTouchmoveListener,jn)})}},{key:"removeDropContainer",value:function(e){this._dropInstances.delete(e)}},{key:"removeDragItem",value:function(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,jn)}},{key:"startDragging",value:function(e,n){var t=this;if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){var i=n.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:function(e){return t.pointerUp.next(e)},options:!0}).set("scroll",{handler:function(e){return t.scroll.next(e)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:jn}),i||this._globalListeners.set("mousemove",{handler:function(e){return t.pointerMove.next(e)},options:jn}),this._ngZone.runOutsideAngular(function(){t._globalListeners.forEach(function(e,n){t._document.addEventListener(n,e.handler,e.options)})})}}},{key:"stopDragging",value:function(e){var n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(e){return this._activeDragInstances.indexOf(e)>-1}},{key:"ngOnDestroy",value:function(){var e=this;this._dragInstances.forEach(function(n){return e.removeDragItem(n)}),this._dropInstances.forEach(function(n){return e.removeDropContainer(n)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var e=this;this._globalListeners.forEach(function(n,t){e._document.removeEventListener(t,n.handler,n.options)}),this._globalListeners.clear()}}]),e}();Ln.\u0275fac=function(e){return new(e||Ln)(f.ad(f.S),f.ad(g.d))},Ln.\u0275prov=Object(f.Mc)({factory:function(){return new Ln(Object(f.ad)(f.S),Object(f.ad)(g.d))},token:Ln,providedIn:"root"}),Ln.ctorParameters=function(){return[{type:f.S},{type:void 0,decorators:[{type:f.D,args:[g.d]}]}]};var Rn={dragStartThreshold:5,pointerDirectionChangeThreshold:5},An=function(){function e(n,t,i,o){h(this,e),this._document=n,this._ngZone=t,this._viewportRuler=i,this._dragDropRegistry=o}return p(e,[{key:"createDrag",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rn;return new yn(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(e){return new Cn(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),e}();An.\u0275fac=function(e){return new(e||An)(f.ad(g.d),f.ad(f.S),f.ad(qe.d),f.ad(Ln))},An.\u0275prov=Object(f.Mc)({factory:function(){return new An(Object(f.ad)(g.d),Object(f.ad)(f.S),Object(f.ad)(qe.d),Object(f.ad)(Ln))},token:An,providedIn:"root"}),An.ctorParameters=function(){return[{type:void 0,decorators:[{type:f.D,args:[g.d]}]},{type:f.S},{type:qe.d},{type:Ln}]};var Nn=new f.G("CDK_DRAG_PARENT"),Bn=new f.G("CdkDropListGroup"),Un=function(){function e(){h(this,e),this._items=new Set,this._disabled=!1}return p(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Object(We.b)(e)}},{key:"ngOnDestroy",value:function(){this._items.clear()}}]),e}();Un.\u0275fac=function(e){return new(e||Un)},Un.\u0275dir=f.Lc({type:Un,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[f.Dc([{provide:Bn,useExisting:Un}])]}),Un.propDecorators={disabled:[{type:f.I,args:["cdkDropListGroupDisabled"]}]};var zn=new f.G("CDK_DRAG_CONFIG"),Mn=0,Gn=new f.G("CdkDropList"),Hn=function(){function e(n,t,i,o,r,a,s){var l=this;h(this,e),this.element=n,this._changeDetectorRef=i,this._scrollDispatcher=o,this._dir=r,this._group=a,this._destroyed=new L.a,this.connectedTo=[],this.id="cdk-drop-list-"+Mn++,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.dropped=new f.y,this.entered=new f.y,this.exited=new f.y,this.sorted=new f.y,this._unsortedItems=new Set,this._dropListRef=t.createDropList(n),this._dropListRef.data=this,s&&this._assignDefaults(s),this._dropListRef.enterPredicate=function(e,n){return l.enterPredicate(e.data,n.data)},this._dropListRef.sortPredicate=function(e,n,t){return l.sortPredicate(e,n.data,t.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),a&&a._items.add(this)}return p(e,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(e){this._dropListRef.disabled=this._disabled=Object(We.b)(e)}},{key:"addItem",value:function(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(e,n){return e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var n=e._dropLists.indexOf(this);n>-1&&e._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(n){var t=this;this._dir&&this._dir.change.pipe(Object(ve.a)(this._dir.value),Object(Ze.a)(this._destroyed)).subscribe(function(e){return n.withDirection(e)}),n.beforeStarted.subscribe(function(){var i=Object(We.a)(t.connectedTo).map(function(n){return"string"==typeof n?e._dropLists.find(function(e){return e.id===n}):n});if(t._group&&t._group._items.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),!t._scrollableParentsResolved){var o=t._scrollDispatcher.getAncestorScrollContainers(t.element).map(function(e){return e.getElementRef().nativeElement});t._dropListRef.withScrollableParents(o),t._scrollableParentsResolved=!0}n.disabled=t.disabled,n.lockAxis=t.lockAxis,n.sortingDisabled=Object(We.b)(t.sortingDisabled),n.autoScrollDisabled=Object(We.b)(t.autoScrollDisabled),n.autoScrollStep=Object(We.e)(t.autoScrollStep,2),n.connectedTo(i.filter(function(e){return e&&e!==t}).map(function(e){return e._dropListRef})).withOrientation(t.orientation)})}},{key:"_handleEvents",value:function(e){var n=this;e.beforeStarted.subscribe(function(){n._syncItemsWithRef(),n._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){n.entered.emit({container:n,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){n.exited.emit({container:n,item:e.item.data}),n._changeDetectorRef.markForCheck()}),e.sorted.subscribe(function(e){n.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:n,item:e.item.data})}),e.dropped.subscribe(function(e){n.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),n._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(e){var n=e.lockAxis,t=e.draggingDisabled,i=e.sortingDisabled,o=e.listAutoScrollDisabled,r=e.listOrientation;this.disabled=null!=t&&t,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=o&&o,this.orientation=r||"vertical",n&&(this.lockAxis=n)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map(function(e){return e._dragRef}))}}]),e}();Hn.\u0275fac=function(e){return new(e||Hn)(f.Qc(f.v),f.Qc(An),f.Qc(f.k),f.Qc(qe.b),f.Qc(en.b,8),f.Qc(Bn,12),f.Qc(zn,8))},Hn.\u0275dir=f.Lc({type:Hn,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,n){2&e&&(f.Fc("id",n.id),f.Ic("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[f.Dc([{provide:Bn,useValue:void 0},{provide:Gn,useExisting:Hn}])]}),Hn._dropLists=[],Hn.ctorParameters=function(){return[{type:f.v},{type:An},{type:f.k},{type:qe.b},{type:en.b,decorators:[{type:f.T}]},{type:Un,decorators:[{type:f.T},{type:f.D,args:[Bn]},{type:f.ib}]},{type:void 0,decorators:[{type:f.T},{type:f.D,args:[zn]}]}]},Hn.propDecorators={connectedTo:[{type:f.I,args:["cdkDropListConnectedTo"]}],data:[{type:f.I,args:["cdkDropListData"]}],orientation:[{type:f.I,args:["cdkDropListOrientation"]}],id:[{type:f.I}],lockAxis:[{type:f.I,args:["cdkDropListLockAxis"]}],disabled:[{type:f.I,args:["cdkDropListDisabled"]}],sortingDisabled:[{type:f.I,args:["cdkDropListSortingDisabled"]}],enterPredicate:[{type:f.I,args:["cdkDropListEnterPredicate"]}],sortPredicate:[{type:f.I,args:["cdkDropListSortPredicate"]}],autoScrollDisabled:[{type:f.I,args:["cdkDropListAutoScrollDisabled"]}],autoScrollStep:[{type:f.I,args:["cdkDropListAutoScrollStep"]}],dropped:[{type:f.U,args:["cdkDropListDropped"]}],entered:[{type:f.U,args:["cdkDropListEntered"]}],exited:[{type:f.U,args:["cdkDropListExited"]}],sorted:[{type:f.U,args:["cdkDropListSorted"]}]};var $n=new f.G("CdkDragHandle"),qn=function(){function e(n,t){h(this,e),this.element=n,this._stateChanges=new L.a,this._disabled=!1,this._parentDrag=t}return p(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Object(We.b)(e),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}();qn.\u0275fac=function(e){return new(e||qn)(f.Qc(f.v),f.Qc(Nn,12))},qn.\u0275dir=f.Lc({type:qn,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[f.Dc([{provide:$n,useExisting:qn}])]}),qn.ctorParameters=function(){return[{type:f.v},{type:void 0,decorators:[{type:f.D,args:[Nn]},{type:f.T},{type:f.ib}]}]},qn.propDecorators={disabled:[{type:f.I,args:["cdkDragHandleDisabled"]}]};var Vn=new f.G("CdkDragPlaceholder"),Wn=function e(n){h(this,e),this.templateRef=n};Wn.\u0275fac=function(e){return new(e||Wn)(f.Qc(f.mb))},Wn.\u0275dir=f.Lc({type:Wn,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[f.Dc([{provide:Vn,useExisting:Wn}])]}),Wn.ctorParameters=function(){return[{type:f.mb}]},Wn.propDecorators={data:[{type:f.I}]};var Qn=new f.G("CdkDragPreview"),Kn=function(){function e(n){h(this,e),this.templateRef=n,this._matchSize=!1}return p(e,[{key:"matchSize",get:function(){return this._matchSize},set:function(e){this._matchSize=Object(We.b)(e)}}]),e}();Kn.\u0275fac=function(e){return new(e||Kn)(f.Qc(f.mb))},Kn.\u0275dir=f.Lc({type:Kn,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"},features:[f.Dc([{provide:Qn,useExisting:Kn}])]}),Kn.ctorParameters=function(){return[{type:f.mb}]},Kn.propDecorators={data:[{type:f.I}],matchSize:[{type:f.I}]};var Xn=function(){function e(n,t,i,o,r,a,s,l,c,u,d){var p=this;h(this,e),this.element=n,this.dropContainer=t,this._ngZone=o,this._viewContainerRef=r,this._dir=s,this._changeDetectorRef=c,this._selfHandle=u,this._parentDrag=d,this._destroyed=new L.a,this.started=new f.y,this.released=new f.y,this.ended=new f.y,this.entered=new f.y,this.exited=new f.y,this.dropped=new f.y,this.moved=new X.a(function(e){var n=p._dragRef.moved.pipe(Object(w.a)(function(e){return{source:p,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}})).subscribe(e);return function(){n.unsubscribe()}}),this._dragRef=l.createDrag(n,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:null==a?void 0:a.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),a&&this._assignDefaults(a),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return p(e,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(e){this._disabled=Object(We.b)(e),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.onStable.pipe(Object(Je.a)(1),Object(Ze.a)(this._destroyed)).subscribe(function(){e._updateRootElement(),e._handles.changes.pipe(Object(ve.a)(e._handles),Object(O.a)(function(n){var t=n.filter(function(n){return n._parentDrag===e}).map(function(e){return e.element});e._selfHandle&&e.rootElementSelector&&t.push(e.element),e._dragRef.withHandles(t)}),Object(Ye.a)(function(e){return Object(Z.a).apply(void 0,n(e.map(function(e){return e._stateChanges.pipe(Object(ve.a)(e))})))}),Object(Ze.a)(e._destroyed)).subscribe(function(n){var t=e._dragRef,i=n.element.nativeElement;n.disabled?t.disableHandle(i):t.enableHandle(i)}),e.freeDragPosition&&e._dragRef.setFreeDragPosition(e.freeDragPosition)})}},{key:"ngOnChanges",value:function(e){var n=e.rootElementSelector,t=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),t&&!t.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this);var n=e._dragInstances.indexOf(this);n>-1&&e._dragInstances.splice(n,-1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var e=this.element.nativeElement,n=this.rootElementSelector?Zn(e,this.rootElementSelector):e;this._dragRef.withRootElement(n||e)}},{key:"_getBoundaryElement",value:function(){var e=this.boundaryElement;return e?"string"==typeof e?Zn(this.element.nativeElement,e):Object(We.d)(e):null}},{key:"_syncInputs",value:function(n){var t=this;n.beforeStarted.subscribe(function(){if(!n.isDragging()){var e=t._dir,i=t.dragStartDelay,o=t._placeholderTemplate?{template:t._placeholderTemplate.templateRef,context:t._placeholderTemplate.data,viewContainer:t._viewContainerRef}:null,r=t._previewTemplate?{template:t._previewTemplate.templateRef,context:t._previewTemplate.data,matchSize:t._previewTemplate.matchSize,viewContainer:t._viewContainerRef}:null;n.disabled=t.disabled,n.lockAxis=t.lockAxis,n.dragStartDelay="object"==typeof i&&i?i:Object(We.e)(i),n.constrainPosition=t.constrainPosition,n.previewClass=t.previewClass,n.withBoundaryElement(t._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(r),e&&n.withDirection(e.value)}}),n.beforeStarted.pipe(Object(Je.a)(1)).subscribe(function(){var i,o;if(t._parentDrag)n.withParent(t._parentDrag._dragRef);else for(var r=t.element.nativeElement.parentElement;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){n.withParent((null===(o=e._dragInstances.find(function(e){return e.element.nativeElement===r}))||void 0===o?void 0:o._dragRef)||null);break}r=r.parentElement}})}},{key:"_handleEvents",value:function(e){var n=this;e.started.subscribe(function(){n.started.emit({source:n}),n._changeDetectorRef.markForCheck()}),e.released.subscribe(function(){n.released.emit({source:n})}),e.ended.subscribe(function(e){n.ended.emit({source:n,distance:e.distance}),n._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){n.entered.emit({container:e.container.data,item:n,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){n.exited.emit({container:e.container.data,item:n})}),e.dropped.subscribe(function(e){n.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:n,distance:e.distance})})}},{key:"_assignDefaults",value:function(e){var n=e.lockAxis,t=e.dragStartDelay,i=e.constrainPosition,o=e.previewClass,r=e.boundaryElement,a=e.draggingDisabled,s=e.rootElementSelector;this.disabled=null!=a&&a,this.dragStartDelay=t||0,n&&(this.lockAxis=n),i&&(this.constrainPosition=i),o&&(this.previewClass=o),r&&(this.boundaryElement=r),s&&(this.rootElementSelector=s)}}]),e}();function Zn(e,n){for(var t=e.parentElement;t;){if(t.matches?t.matches(n):t.msMatchesSelector(n))return t;t=t.parentElement}return null}Xn.\u0275fac=function(e){return new(e||Xn)(f.Qc(f.v),f.Qc(Gn,12),f.Qc(g.d),f.Qc(f.S),f.Qc(f.sb),f.Qc(zn,8),f.Qc(en.b,8),f.Qc(An),f.Qc(f.k),f.Qc($n,10),f.Qc(Nn,12))},Xn.\u0275dir=f.Lc({type:Xn,selectors:[["","cdkDrag",""]],contentQueries:function(e,n,t){var i;(1&e&&(f.Jc(t,Qn,1),f.Jc(t,Vn,1),f.Jc(t,$n,1)),2&e)&&(f.pd(i=f.fd())&&(n._previewTemplate=i.first),f.pd(i=f.fd())&&(n._placeholderTemplate=i.first),f.pd(i=f.fd())&&(n._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,n){2&e&&f.Ic("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[f.Dc([{provide:Nn,useExisting:Xn}]),f.Cc]}),Xn._dragInstances=[],Xn.ctorParameters=function(){return[{type:f.v},{type:void 0,decorators:[{type:f.D,args:[Gn]},{type:f.T},{type:f.ib}]},{type:void 0,decorators:[{type:f.D,args:[g.d]}]},{type:f.S},{type:f.sb},{type:void 0,decorators:[{type:f.T},{type:f.D,args:[zn]}]},{type:en.b,decorators:[{type:f.T}]},{type:An},{type:f.k},{type:qn,decorators:[{type:f.T},{type:f.gb},{type:f.D,args:[$n]}]},{type:Xn,decorators:[{type:f.T},{type:f.ib},{type:f.D,args:[Nn]}]}]},Xn.propDecorators={_handles:[{type:f.s,args:[$n,{descendants:!0}]}],_previewTemplate:[{type:f.r,args:[Qn]}],_placeholderTemplate:[{type:f.r,args:[Vn]}],data:[{type:f.I,args:["cdkDragData"]}],lockAxis:[{type:f.I,args:["cdkDragLockAxis"]}],rootElementSelector:[{type:f.I,args:["cdkDragRootElement"]}],boundaryElement:[{type:f.I,args:["cdkDragBoundary"]}],dragStartDelay:[{type:f.I,args:["cdkDragStartDelay"]}],freeDragPosition:[{type:f.I,args:["cdkDragFreeDragPosition"]}],disabled:[{type:f.I,args:["cdkDragDisabled"]}],constrainPosition:[{type:f.I,args:["cdkDragConstrainPosition"]}],previewClass:[{type:f.I,args:["cdkDragPreviewClass"]}],started:[{type:f.U,args:["cdkDragStarted"]}],released:[{type:f.U,args:["cdkDragReleased"]}],ended:[{type:f.U,args:["cdkDragEnded"]}],entered:[{type:f.U,args:["cdkDragEntered"]}],exited:[{type:f.U,args:["cdkDragExited"]}],dropped:[{type:f.U,args:["cdkDragDropped"]}],moved:[{type:f.U,args:["cdkDragMoved"]}]};var Jn=function e(){h(this,e)};Jn.\u0275mod=f.Oc({type:Jn}),Jn.\u0275inj=f.Nc({factory:function(e){return new(e||Jn)},providers:[An],imports:[qe.a]}),("undefined"==typeof ngJitMode||ngJitMode)&&f.wd(Jn,{declarations:function(){return[Hn,Un,Xn,qn,Kn,Wn]},exports:function(){return[qe.a,Hn,Un,Xn,qn,Kn,Wn]}});var Yn=function(){function e(){h(this,e)}return p(e,[{key:"ngOnInit",value:function(){}}]),e}();Yn.ctorParameters=function(){return[]},Yn.propDecorators={caption:[{type:f.I,args:["caption"]}]},Yn=Object(d.a)([Object(f.n)({selector:"app-page-divider",template:'<h1 *ngIf="caption" class="h6">{{caption}}</h1>\n<div class="divider">\n\n    <span></span>\n\n\n</div>',styles:[".divider {\n  border-bottom: 1px solid #8d8d8d;\n  background-color: #8d8d8d;\n  height: 1px;\n  margin: 0.5em 0px 1.5em;\n  width: 100%;\n}\n\n.divider span {\n  display: block;\n  width: 100%;\n  height: 1px;\n  background-color: #696866;\n}"]})],Yn);var et=function(){function e(){h(this,e)}return p(e,[{key:"ngOnInit",value:function(){}}]),e}();et.ctorParameters=function(){return[]},et=Object(d.a)([Object(f.n)({selector:"app-field-property",template:"<p>field-property works!</p>\n",styles:[""]})],et);var nt=function(){function e(n,t,i,o,r){h(this,e),this.apiService=n,this.activateRoute=t,this.cd=i,this.activeFormFieldService=o,this.scrollToService=r,this.viewEditor=!0,this.ColorPallete=E.b,this.properties=this.activeFormFieldService.properties$.asObservable(),this.selectedField=this.activeFormFieldService.selectedField$.asObservable(),this.toggleDragAndScroll=!1,this.toggleAddComponentValue=!1,this.showAutocompleteBar=!1,this.minFormNameLength=1,this.options=[],this.inputFormControl=new m.d(""),this.componentTypes=K.getComponentTypes(),this.formSchema={form_id:"",form_name:"",form_metadata:[],form_tags:[],field:[],public:!0,draft:!0,archived:!0,version:1},this.properties_visible=!0,this.report_builder_visible=!0,this.formId=new x.a(void 0),this.activeBottom=0,this.items=[{title:"Profile",icon:"person-outline"},{title:"Change Password",icon:"lock-outline"},{title:"Privacy Policy",icon:{icon:"checkmark-outline",pack:"eva"}},{title:"Logout",icon:"unlock-outline"}]}return p(e,[{key:"ngOnChanges",value:function(e){e.formSchema&&console.log("scroll property changed")}},{key:"toggleAddComponent",value:function(){this.toggleAddComponentValue=!this.toggleAddComponentValue}},{key:"toggleScroll",value:function(){this.toggleDragAndScroll=!this.toggleDragAndScroll}},{key:"toggleProperties",value:function(){console.log("toggleProperties"),this.properties_visible=!this.properties_visible}},{key:"toggleReportBuilder",value:function(){console.log("toggleReportBuilder"),this.report_builder_visible=!this.report_builder_visible}},{key:"refreshFormAtributes",value:function(e){var n=this;this.formId.asObservable().pipe(Object(k.a)(function(e){return!!e})).pipe(Object(Je.a)(1)).subscribe(function(t){console.log("formId ",t),n.apiService.fetchFormSchemaById(t).pipe(Object(Y.a)(100),Object(O.a)(function(e){n.formSchema=e}),Object(O.a)(function(t){e&&(console.log("renderForm",t),t.field.forEach(function(e,t){0==t&&(console.log("seelcting field"),n.selectField(e))}))})).subscribe(function(e){})})}},{key:"ngOnInit",value:function(){var e=this;this.activateRoute.params.pipe(Object(w.a)(function(e){return e.formid}),Object(k.a)(function(e){return!!e}),Object(O.a)(function(n){e.formId.next(n)}),Object(O.a)(function(n){e.refreshFormAtributes(!0)})).subscribe(),T.a.FormSchema.pipe(Object(k.a)(function(e){return!!e})).subscribe(function(n){console.debug("formSchema",n),e.options=n}),this.filteredControlOptions$=Object(J.a)(this.options),this.filteredControlOptions$=this.inputFormControl.valueChanges.pipe(Object(k.a)(function(e){return!!e})).pipe(Object(ve.a)(""),Object(w.a)(function(n){return e.filter(n)})),this.activeFormFieldService.selectedField$.pipe(Object(k.a)(function(e){return!!e})).subscribe(function(n){setTimeout(function(t){var i={target:n,container:"field_container"};e.scrollToService.scrollTo(i).subscribe(function(e){},function(e){})},0)})}},{key:"addField",value:function(e){var n=this,t=e.type;this.apiService.createFieldSchema(this.formSchema.form_id,t).pipe(Object(k.a)(function(e){return!!e.field_id})).pipe(Object(O.a)(function(e){n.selectField(e.field_id)})).pipe(Object(O.a)()).subscribe(function(e){n.refreshFormAtributes(!1)})}},{key:"filter",value:function(e){console.debug("filtering",e,typeof e);var n=e.toLowerCase();return this.options.filter(function(e){return e.form_name.toLowerCase().includes(n)})}},{key:"selectField",value:function(e){this.activeFormFieldService.publishSelectedField(e)}},{key:"getProperties",value:function(e){this.activeFormFieldService.publishSelectedFieldProperties(e)}},{key:"ngAfterContentChecked",value:function(){this.cd.detectChanges()}},{key:"properyOnChange",value:function(e,n){this.fieldEditorComponent.onPropertyChange(n)}},{key:"save",value:function(){var e=this;this.selectedField.pipe(Object(Je.a)(1),Object(w.a)(function(n){return e.fieldEditorComponent.save(n)}),Object(ge.a)(function(e){return e}),Object(O.a)(function(e){console.log("Saved")})).subscribe()}},{key:"activeNavbarMenuChange",value:function(e){console.log("activeNavbarMenuChange",e)}}]),e}();nt.ctorParameters=function(){return[{type:j},{type:ye.a},{type:f.k},{type:S},{type:ue}]},nt.propDecorators={fieldEditorComponent:[{type:f.qb,args:["fieldEditor",{static:!1}]}],formBuilderComponent:[{type:f.qb,args:["formBuilder"]}],formInput:[{type:f.qb,args:["formInput"]}]},nt=Object(d.a)([Object(f.n)({selector:"app-view-pager",template:'<nb-layout center>\n  <nb-layout-header fixed>\n\n    <div fxFlex fxLayoutAlign="center center">\n\n      <div fxFlex fxLayoutAlign="start center">\n\n        <button nbButton ghost status="danger" size="large">\n          <nb-icon icon="menu">\n          </nb-icon>\n        </button>\n\n        <span fxHide.lt-sm fxShow routerLink="/" class="h5">\n          SecoFlex\n        </span>\n      </div>\n\n      <div fxFlex fxLayoutAlign="end center">\n\n\n        <button (click)="viewEditor = !viewEditor" nbButton outline status="success" size="small">\n          <nb-icon icon="checkmark-circle-2">\n          </nb-icon>\n          Preview\n\n        </button>\n\n        <button (click)="toggleProperties()" nbButton outline status="basic" size="small">\n\n          <nb-icon icon="settings-2-outline">\n          </nb-icon>\n        </button>\n\n\n\n\n      </div>\n    </div>\n  </nb-layout-header>\n\n\n\n  <nb-sidebar *ngIf="!toggleAddComponentValue" left fxLayout="column">\n\n\n\n    <nb-sidebar-header>\n\n      <button (click)="toggleAddComponent()" nbButton ghost status="success" size="tiny">\n        <nb-icon icon="plus">\n        </nb-icon>\n        Add\n\n      </button>\n\n      <div fxFlex fxLayoutAlign="end center">\n        <span routerLink="/" class="colored">\n          Hierarchy\n        </span>\n      </div>\n\n\n    </nb-sidebar-header>\n\n\n    <ng-container>\n\n      <app-field-viewer [fields]="formSchema.field" [field_id]="selectedField | async">\n      </app-field-viewer>\n\n\n      <ng-template #progress>\n        <div fxFlex fxLayoutAlign="center center">\n\n          <ngx-progress-spinner mode="indeterminate" color="#1483FF" [value]="3" [total]="100" [strokeWidth]="5">\n          </ngx-progress-spinner>\n        </div>\n      </ng-template>\n\n\n\n    </ng-container>\n\n\n\n\n\n\n\n  </nb-sidebar>\n\n  <nb-sidebar left *ngIf=" toggleAddComponentValue " fxLayout="column">\n\n\n\n    <nb-sidebar-header>\n\n      <button (click)="toggleAddComponent()" nbButton ghost status="success" size="tiny">\n        <nb-icon icon="plus">\n        </nb-icon>\n        Back\n\n      </button>\n\n\n      <div fxFlex fxLayoutAlign="end center">\n        <span routerLink="/" class="colored">\n          Hierarchy\n        </span>\n      </div>\n\n\n    </nb-sidebar-header>\n\n    <nb-list>\n      <nb-list-item [appLeftBorder]="ColorPallete[index % ColorPallete.length]" [animate]="true"\n        (click)="addField(componentType)" *ngFor="let componentType of componentTypes; index as index">\n        <div fxFlex class=" subtitle">\n          {{ componentType.title }}\n\n        </div>\n      </nb-list-item>\n    </nb-list>\n\n\n\n\n\n  </nb-sidebar>\n\n  <nb-layout-column @init *ngIf="viewEditor == false">\n\n\n\n\n    <app-form-builder #formBuilder [form_schema_id]="formSchema.form_id">\n    </app-form-builder>\n\n\n\n  </nb-layout-column>\n\n  <nb-layout-column @init *ngIf="viewEditor == true">\n\n\n    <div fxLayout fxLayoutAlign="center" fxFlexFill fxLayoutGap="1rem">\n\n\n\n      <div fxFlex="0 1 800px" fxLayout="column" fxLayoutGap="1rem">\n\n        <app-field-editor #fieldEditor (getProperties)="getProperties($event)" fxLayoutAlign="start start"\n          [field_id]="selectedField | async ">\n        </app-field-editor>\n\n        \x3c!-- Todo: Remove cards --\x3e\n        <nb-card size="small" status="basic" fxFlex *ngIf="false && report_builder_visible" @init>\n\n          <nb-card-header>\n            <div fxFlex>\n              <span routerLink="/" class="subtitle-2 ">\n                Editor\n              </span>\n            </div>\n          </nb-card-header>\n          <nb-card-body>\n\n\n            <app-field-editor #fieldEditor (getProperties)="getProperties($event)" fxLayoutAlign="start start"\n              [field_id]="selectedField | async ">\n            </app-field-editor>\n          </nb-card-body>\n\n        </nb-card>\n\n\n\n      </div>\n\n\n\n\n    </div>\n\n\n\n\n\n  </nb-layout-column>\n\n\n  <nb-sidebar @init *ngIf="properties_visible" right>\n\n    <nb-sidebar-header>\n\n\n      <ngx-navbar [(active)]="activeBottom" fxFlex (activeChange)="activeNavbarMenuChange($event)">\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="apps"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="chart-scatter"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="database"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="commandline"></ngx-icon>\n        </ngx-navbar-item>\n      </ngx-navbar>\n    </nb-sidebar-header>\n\n\n\n    <nb-sidebar-header fxLayoutAlign="center center">\n      <nb-form-field fxFlex>\n        <nb-icon nbPrefix icon="search" pack="eva"></nb-icon>\n        <input type="text" nbInput fullWidth status="control" status="basic" placeholder="Search">\n\n        <button nbSuffix ghost status="primary" nbButton (click)="save()">\n          <nb-icon icon="checkmark-outline" pack="eva"></nb-icon>\n\n\n        </button>\n\n      </nb-form-field>\n    </nb-sidebar-header>\n\n    <div [ngSwitch]="activeBottom" fxFlex>\n\n\n      <ng-template [ngSwitchCase]="0">\n\n        <ng-container *ngIf=" (properties_visible || report_builder_visible)  ">\n          <ng-container *ngIf="(properties | async)?.length > 0 ; else progress ">\n\n            <ngx-section fxFlex style="overflow: auto;" fxFlex *ngIf="properties_visible" [sectionCollapsible]="false">\n\n\n              <div>\n\n\n\n\n                <ng-container *ngFor="let property of properties | async ; index as index ">\n\n                  <app-property (propertOnChange)="properyOnChange(index, $event)" [property]="property">\n                  </app-property>\n\n                </ng-container>\n\n\n       \n\n\n\n              </div>\n\n            </ngx-section>\n\n\n\n          </ng-container>\n\n\n\n          <ng-template #progress>\n            <div fxFlex fxLayoutAlign="center center">\n\n              <ngx-progress-spinner mode="indeterminate" color="#1483FF" [value]="3" [total]="100" [strokeWidth]="5">\n              </ngx-progress-spinner>\n            </div>\n          </ng-template>\n\n\n\n        </ng-container>\n\n\n      </ng-template>\n      <ng-template [ngSwitchCase]="1">\n\n        <ng-container *ngIf=" (properties_visible || report_builder_visible)  ">\n          <ng-container *ngIf="(properties | async)?.length > 0 ; else progress ">\n\n\n\n            <app-field-viewer fxFlex [fields]="formSchema.field" [field_id]="selectedField | async">\n            </app-field-viewer>\n\n\n\n\n\n\n\n\n\n          </ng-container>\n\n\n\n          <ng-template #progress>\n            <div fxFlex fxLayoutAlign="center center">\n\n              <ngx-progress-spinner mode="indeterminate" color="#1483FF" [value]="3" [total]="100" [strokeWidth]="5">\n              </ngx-progress-spinner>\n            </div>\n          </ng-template>\n\n\n\n        </ng-container>\n\n\n      </ng-template>\n      <ng-template [ngSwitchCase]="2">\n        <nb-card fxFlex>\n          <nb-card-body>\n\n            <nb-menu [items]="items">\n            </nb-menu>\n\n          </nb-card-body>\n        </nb-card>\n\n      </ng-template>\n      <ng-template [ngSwitchDefault]>\n        <p>HTML Course</p>\n      </ng-template>\n    </div>\n\n\n\n\n\n\n\n\n\n\n    <nb-sidebar-footer>\n\n\n      <ngx-navbar fxFlex (activeChange)="activeNavbarMenuChange($event)">\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="apps"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="chart-scatter"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="database"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="commandline"></ngx-icon>\n        </ngx-navbar-item>\n      </ngx-navbar>\n    </nb-sidebar-footer>\n\n\n\n  </nb-sidebar>\n\n</nb-layout>\n',animations:ne.a,styles:[":host ::ng-deep nb-sidebar {\n  margin-right: 0 !important;\n  margin-left: 0 !important;\n}\n:host ::ng-deep nb-sidebar .scrollable {\n  padding: 0px !important;\n}\n:host ::ng-deep nb-sidebar ngx-section {\n  margin-bottom: 0px;\n  width: 100%;\n}\nnb-list {\n  overflow: auto;\n  max-height: 100%;\n}\n.colored {\n  color: #479eff;\n}\n.selected {\n  font-weight: 750;\n  border: solid transparent;\n  box-shadow: 0 1px 3px rgba(161, 161, 161, 0.12), 0 1px 2px rgba(161, 161, 161, 0.12);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n.overflow {\n  overflow: auto;\n}\nnb-sidebar-footer {\n  padding: 0px !important;\n  background: #171a21;\n}\n.demo-search-box {\n  width: 300px;\n  height: 50px;\n}\n.demo-search-box ngx-icon.search-icon {\n  margin-top: 5px;\n}\n.demo-search-box ngx-input[hidden] {\n  display: block !important;\n  width: 0px;\n  transition: width 0.5s;\n}\n.demo-search-box ngx-input {\n  margin: 0 40px 0 20px;\n  width: 240px;\n  transition: width 0.5s;\n}\n.maincontainer {\n  background: #fff;\n}\n:host ::ng-deep .ngx-section-content {\n  padding: 3px !important;\n}"]})],nt);var tt=function(){function e(){h(this,e),this.users=[{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Janitor",title:"Janitor"},{name:"Perry Cox",title:"Doctor of Medicine"},{name:"Ben Sullivan",title:"Carpenter and photographer"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Janitor",title:"Janitor"},{name:"Perry Cox",title:"Doctor of Medicine"},{name:"Ben Sullivan",title:"Carpenter and photographer"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Janitor",title:"Janitor"},{name:"Perry Cox",title:"Doctor of Medicine"},{name:"Ben Sullivan",title:"Carpenter and photographer"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"}]}return p(e,[{key:"ngOnInit",value:function(){}}]),e}();tt.ctorParameters=function(){return[]},tt=Object(d.a)([Object(f.n)({selector:"app-playground",template:'<nb-layout >\n    <nb-layout-header fixed>\n\n        <div fxFlex fxLayoutAlign="center center">\n\n            <span routerLink="/" class="h5">\n                <button nbButton ghost status="danger" size="large">\n\n                    <nb-icon icon="menu-2">\n                    </nb-icon>\n                </button>\n\n                SecoFlex\n\n            </span>\n\n\n            <div fxFlex fxLayoutAlign="end center">\n\n\n                <button nbButton ghost status="danger" size="medium">\n                    <nb-icon icon="checkmark-circle-2">\n                    </nb-icon>\n                    Previous\n\n                </button>\n\n                <button nbButton ghost status="success" size="medium">\n                    <nb-icon icon="checkmark-circle-2">\n                    </nb-icon>\n                    Next\n\n                </button>\n\n\n            </div>\n        </div>\n    </nb-layout-header>\n\n\n\n\n    <nb-layout-column withScroll>\n\n        <nb-card size="medium">\n            <nb-card-header>\n              Some fruits\n            </nb-card-header>\n            <nb-list>\n                <nb-list-item *ngFor="let user of users">\n                    {{ user.name }}\n                </nb-list-item>\n            </nb-list>\n          </nb-card>\n\n          <nb-card size="medium">\n            <nb-card-header>\n              Some fruits\n            </nb-card-header>\n            <nb-list>\n                <nb-list-item *ngFor="let user of users">\n                    {{ user.name }}\n                </nb-list-item>\n            </nb-list>\n          </nb-card>\n\n    </nb-layout-column>\n\n\n    <nb-layout-column>\n\n        <div fxLayout="column" fxFlex class="container">\n\n            <nb-list fxFlex="1 9">\n\n\n                <nb-list-item *ngFor="let user of users">\n                    {{ user.name }}\n                </nb-list-item>\n            </nb-list>\n\n\n\n        </div>\n\n    </nb-layout-column>\n\n</nb-layout>',styles:[""]})],tt);var it=function(){function e(n){h(this,e),this.formBuilder=n,this.propertOnChange=new f.y,this.PropertyType=l,this.size="small",this.identifier="identifier",this.options=[{value:"This is value 1",label:"Option 1"},{value:"This is value 2",label:"Option 2",disabled:!0},{value:"This is value 3",label:"Option 3"},{value:"This is value 4",label:"Option 4",disabled:!0},{value:"This is value 5",label:"Option 5"}]}return p(e,[{key:"openDialog",value:function(e){}},{key:"onChange",value:function(e){this.property.property_default_value=e,this.propertOnChange.emit(this.property)}},{key:"ngOnInit",value:function(){var e=this;console.log("Initial Property",this.property),this.form=this.formBuilder.group({property:[this.property.property_default_value]}),this.value=this.form.controls.property.valueChanges,this.value.subscribe(function(n){e.onChange(n)})}}]),e}();it.ctorParameters=function(){return[{type:m.c}]},it.propDecorators={property:[{type:f.I,args:["property"]}],propertOnChange:[{type:f.U,args:["propertOnChange"]}],dialogTpl:[{type:f.qb,args:["dialogTmpl",{static:!1}]}]},it=Object(d.a)([Object(f.n)({selector:"app-property",template:'<div  fxLayout="column" @init appBorder>\n\n\n  <div fxLayout="row" class="label" fxLayoutAlign="start center" fxLayoutGap="0.5rem">\n\n\n    <div fxFlex>\n      <span class="tag tag-small tag-bordered"> {{property?.property_name}}</span>\n\n    </div>\n\n\n    <button (click)="openDialog({ context: { count: 19 }, template: wizardTmpl, class: \'wizard\' })" class="margin"\n      nbButton ghost status="primary" size="tiny">\n      <nb-icon icon="expand">\n      </nb-icon>\n\n    </button>\n\n\n  </div>\n\n\n\n\n  <form [formGroup]="form">\n\n\n    <ng-container [ngSwitch]="property.property_tyoe ">\n      <ng-container *ngSwitchCase="PropertyType.TOGGLE_SWITCH  ">\n\n\n\n        <ngx-toggle class="caption" formControlName="property" [label]="property?.property_name">\n        </ngx-toggle>\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_TEXT  ">\n\n\n        <input status="control" nbInput fxFlex formControlName="property" #fileldId\n          [placeholder]="property.property_name" fieldSize="small" />\n\n\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_ICON  ">\n\n\n        <app-icon-selector formControlName="property">\n\n        </app-icon-selector>\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_TEXTAREA  ">\n\n\n        <textarea status="control" nbInput fxFlex formControlName formControlName="property" #fileldId\n          [placeholder]="property.property_name" fieldSize="small">\n            </textarea>\n\n        \x3c!-- <ngx-input type="textarea" label="Hello World" #fileldId appearance="outline" formControlName="property"\n          [placeholder]="property.property_name" size="sm" [hint]="property.property_name"></ngx-input> --\x3e\n\n\n\n        \x3c!-- <input class="form-input" label="Hello World" #fileldId formControlName="property"\n          [placeholder]="property.property_name" size="sm" [hint]="property.property_name"> --\x3e\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_CHECKBOX  ">\n        <nb-checkbox formControlName="property">Toggle me</nb-checkbox>\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_SELECT  ">\n\n        <nb-select [size]="size" placeholder="Select Showcase">\n          <nb-option value="">Option empty</nb-option>\n          <nb-option value="0">Option 0</nb-option>\n          <nb-option value="1">Option 1</nb-option>\n          <nb-option value="2">Option 2</nb-option>\n          <nb-option value="3">Option 3</nb-option>\n          <nb-option value="4">Option 4</nb-option>\n        </nb-select>\n\n\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_RADIO  ">\n\n\n        <nb-radio-group formControlName="property">\n          <nb-radio *ngFor="let option of options" [disabled]="option.disabled" [value]="option.value">\n            {{ option.label }}\n          </nb-radio>\n        </nb-radio-group>\n\n      </ng-container>\n\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_MULTI_SELECT  ">\n\n        <nb-select multiple [size]="size" placeholder="Select Showcase">\n          <nb-option value="">Option empty</nb-option>\n          <nb-option value="0">Option 0</nb-option>\n          <nb-option value="1">Option 1</nb-option>\n          <nb-option value="2">Option 2</nb-option>\n          <nb-option value="3">Option 3</nb-option>\n          <nb-option value="4">Option 4</nb-option>\n        </nb-select>\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.CHIPS  ">\n\n\n        <input fullWidth #fileldId [placeholder]="property.property_name" formControlName="property" [fieldSize]="size"\n          nbInput />\n\n      </ng-container>\n\n    </ng-container>\n\n\n\n\n  </form>\n\n\n\n\n\n\n\n\n</div>\n\n\n\n\n<ng-template #wizardTmpl let-context="context">\n  <div class="ngx-dialog-header">\n    <h1>Custom header title</h1>\n    <span>Custom subtext</span>\n  </div>\n\n  <ngx-tabs>\n    <ngx-tab label="General">\n      <h2>Tab content</h2>\n      <p>First tab content goes here</p>\n      <p>Count: <strong>{{context.count}}</strong></p>\n    </ngx-tab>\n    <ngx-tab label="Administration">\n      <h2>Second tab has a slightly longer title that goes here</h2>\n      <p>Second tab content goes here</p>\n    </ngx-tab>\n  </ngx-tabs>\n\n  <div class="ngx-dialog-footer">\n    <div class="wizard-nav">\n      <button type="button" class="btn btn-bordered">\n        <i class="ngx-icon ngx-arrow-left has-text"></i>Prev\n      </button>\n      <button type="button" class="btn btn-bordered">\n        Next <i class="ngx-icon ngx-arrow-right"></i>\n      </button>\n    </div>\n    <button type="button" class="btn btn-primary">\n      <i class="ngx-icon ngx-check has-text"></i>Save\n    </button>\n  </div>\n</ng-template>\n',animations:ne.a,styles:[".label {\n  margin-top: 0.1875rem;\n  margin-bottom: 0.1875rem;\n}\n\ntextarea {\n  resize: vertical;\n}\n\n:host ::ng-deep .ngx-input-tag__tag {\n  margin: 3px;\n}\n\n:host ::ng-deep .ngx-input-switch {\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  align-content: center;\n}\n\n:host ::ng-deep .ngx-input-switch span {\n  padding-left: 0.6875rem;\n  font-family: Open Sans, sans-serif;\n  font-size: 0.8125rem;\n  font-weight: 600;\n  line-height: 1.5rem;\n}\n\n.margin {\n  margin-bottom: 0.4rem;\n}\n\n.label {\n  margin-bottom: 0.7rem;\n}"]})],it);var ot,rt=new f.G("NGX_INPUT_TAG_TAG_FORMATTER"),at=["inputElement"];function st(e,n){if(1&e){var t=Object(f.Xc)();Object(f.Wc)(0,"div",6),Object(f.Bd)(1),Object(f.Wc)(2,"button",7),Object(f.ed)("click",function(e){Object(f.td)(t);var i=n.$implicit;return Object(f.gd)().removeTag(i,e)}),Object(f.Bd)(3," \u2716 "),Object(f.Vc)(),Object(f.Vc)()}if(2&e){var i=n.$implicit;Object(f.Ec)(1),Object(f.Dd)(" ",i," ")}}function lt(e,n){if(1&e){var t=Object(f.Xc)();Object(f.Wc)(0,"button",10),Object(f.ed)("click",function(){Object(f.td)(t);var e=n.$implicit;return Object(f.gd)(2).addSuggestedTag(e)}),Object(f.Bd)(1),Object(f.Vc)()}if(2&e){var i=n.$implicit;Object(f.Ec)(1),Object(f.Cd)(i)}}function ct(e,n){if(1&e&&(Object(f.Wc)(0,"div",8),Object(f.zd)(1,lt,2,1,"button",9),Object(f.Vc)()),2&e){var t=Object(f.gd)();Object(f.Ec)(1),Object(f.md)("ngForOf",t.tagSuggestions)}}!function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Comma=188]="Comma"}(ot||(ot={}));var ut=function(){function e(n){h(this,e),this.tagFormatter=n,this.tagSuggestions=[],this.maxTagLength=25,this.maxNumberOfTags=1e3,this.textChange=new f.y,this._value=[],this.prevTagInput="",this.currentNumberOfTags=0,this.tagError=null,this.onChange=function(e){},this.onTouched=function(){}}return p(e,[{key:"value",get:function(){return this._value},set:function(e){this._value=e,this.onChange(e),this.onTouched()}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"writeValue",value:function(e){var n=this;e&&(this.value=e.map(function(e){return n.tagFormatter(e)}),this.setCurrentNumberOfTags())}},{key:"validate",value:function(){return this.tagError}},{key:"handleClick",value:function(e){this.inputElement&&!this.inputElement.nativeElement.contains(e.target)&&this.inputElement.nativeElement.value&&this.addTag(this.inputElement.nativeElement.value)}},{key:"addTag",value:function(e){var n=this.tagFormatter(e),t=0===n.length,i=!n.length||this.maxTagLength&&n.length>this.maxTagLength,o=this.value.indexOf(n)>-1,r=this.currentNumberOfTags>this.maxNumberOfTags;if(!t&&i&&(this.tagError={message:"Tag length cannot exceed ".concat(this.maxTagLength," characters")}),o&&(this.tagError={message:"Cannot add duplicate tag"}),r){var a=1===this.maxNumberOfTags?"":"s";this.tagError={message:"Cannot exceed ".concat(this.maxNumberOfTags," tag").concat(a)}}t||i||o||r||!this.inputElement||(this.tagError=null,this.value.push(n),this.setCurrentNumberOfTags(),this.inputElement.nativeElement.value=""),this.value=this.value,this.focus()}},{key:"addTagEvent",value:function(e){var n=e.target;this.tagError=null,this.value=this.value,this.textChange.emit(n.value),e.keyCode===ot.Backspace&&0===this.prevTagInput.length?(this._value.pop(),this.setCurrentNumberOfTags()):e.keyCode!==ot.Enter&&e.keyCode!==ot.Comma&&e.keyCode!==ot.Tab||this.addTag(n.value),this.prevTagInput=n.value}},{key:"preventDefaultTabBehavior",value:function(e){e.keyCode===ot.Tab&&this.prevTagInput.length>0&&e.preventDefault()}},{key:"addTagClick",value:function(e,n){e.preventDefault(),n.length>0&&this.addTag(n)}},{key:"addSuggestedTag",value:function(e){this.addTag(e)}},{key:"removeTag",value:function(e,n){n.keyCode!==ot.Enter&&(this.value=this._value.filter(function(n){return n!==e}),this.setCurrentNumberOfTags())}},{key:"focus",value:function(){var e;null===(e=this.inputElement)||void 0===e||e.nativeElement.focus()}},{key:"setCurrentNumberOfTags",value:function(){this.currentNumberOfTags=this.value.length?this.value.toString().split(",").length:0}}]),e}();function dt(e){return e.trim().replace(/(\s|-)+/g,"-").replace(/\,/g,"").toLowerCase()}ut.\u0275fac=function(e){return new(e||ut)(Object(f.Qc)(rt))},ut.\u0275cmp=Object(f.Kc)({type:ut,selectors:[["ngx-input-tag"]],viewQuery:function(e,n){var t;(1&e&&Object(f.Ed)(at,!0),2&e)&&(Object(f.pd)(t=Object(f.fd)())&&(n.inputElement=t.first))},hostBindings:function(e,n){1&e&&Object(f.ed)("click",function(e){return n.handleClick(e)},!1,f.rd)},inputs:{tagSuggestions:"tagSuggestions",maxTagLength:"maxTagLength",maxNumberOfTags:"maxNumberOfTags"},outputs:{textChange:"textChange"},features:[Object(f.Dc)([{provide:m.h,useExisting:Object(f.wb)(function(){return ut}),multi:!0},{provide:m.g,useExisting:Object(f.wb)(function(){return ut}),multi:!0}])],decls:7,vars:4,consts:[[1,"ngx-input-tag",3,"click"],["class","ngx-input-tag__tag",4,"ngFor","ngForOf"],["type","text","aria-label","Tags",1,"ngx-input-tag__input",3,"keyup","keydown"],["inputElement",""],["type","button","aria-label","Add Tag","title","Add Tag",1,"ngx-input-tag__btn",3,"click"],["class","ngx-input-tag-suggestions",4,"ngIf"],[1,"ngx-input-tag__tag"],["type","button",3,"click"],[1,"ngx-input-tag-suggestions"],["type","button","class","ngx-input-tag-suggestions__tag",3,"click",4,"ngFor","ngForOf"],["type","button",1,"ngx-input-tag-suggestions__tag",3,"click"]],template:function(e,n){if(1&e){var t=Object(f.Xc)();Object(f.Wc)(0,"div",0),Object(f.ed)("click",function(){return n.focus()}),Object(f.zd)(1,st,4,1,"div",1),Object(f.Wc)(2,"input",2,3),Object(f.ed)("keyup",function(e){return n.addTagEvent(e)})("keydown",function(e){return n.preventDefaultTabBehavior(e)}),Object(f.Vc)(),Object(f.Wc)(4,"button",4),Object(f.ed)("click",function(e){Object(f.td)(t);var i=Object(f.qd)(3);return n.addTagClick(e,i.value)}),Object(f.Bd)(5," + "),Object(f.Vc)(),Object(f.Vc)(),Object(f.zd)(6,ct,2,1,"div",5)}if(2&e){var i=Object(f.qd)(3);Object(f.Ec)(1),Object(f.md)("ngForOf",n.value),Object(f.Ec)(1),Object(f.xd)("width",10*i.value.length+10+"px"),Object(f.Ec)(4),Object(f.md)("ngIf",i.value.length&&n.tagSuggestions&&n.tagSuggestions.length)}},directives:[g.m,g.n],styles:["*,:after,:before{box-sizing:border-box}ngx-input-tag{--color-add-button:#ccc;--color-add-button-background:#fff;--color-background:#fff;--color-border:#dbdbdb;--color-tag-close:#ccc;--color-tag-suggestion-hover:#f2f2f2;display:inline-block;margin-bottom:12px;width:100%}.ngx-input-tag{background-color:#fff;background-color:var(--color-background);border:1px solid #dbdbdb;border:1px solid var(--color-border);font-size:16px;margin-bottom:0;padding:5px 80px 4.5px 4px;position:relative}.ngx-input-tag:focus{outline:initial}.ngx-input-tag__input{border:0;font-size:16px;margin-bottom:0;margin-left:4px;max-width:calc(100% + 70px);min-height:29px;min-width:4px;outline:none;padding:4px 0;width:8px}.ngx-input-tag__tag{border:1px solid #dbdbdb;border:1px solid var(--color-border);border-radius:2px;display:inline-block;height:29px;line-height:18px;margin-right:4px;padding:4px}.ngx-input-tag__tag button{background:transparent;border:0;color:var(--color-tag-close);cursor:pointer}.ngx-input-tag__btn{background-color:#fff;background-color:var(--color-add-button-background);color:#ccc;color:var(--color-add-button);cursor:pointer;font-size:30px;height:41px;position:absolute;right:-1px;top:-1px;width:50px}.ngx-input-tag-suggestions,.ngx-input-tag__btn{border:1px solid #dbdbdb;border:1px solid var(--color-border)}.ngx-input-tag-suggestions{background-color:#fff;background-color:var(--color-background)}.ngx-input-tag-suggestions__tag{background:transparent;border:0;cursor:pointer;display:block;padding:10px 14px;text-align:left;width:100%}.ngx-input-tag-suggestions__tag:hover{background:#f2f2f2;background:var(--color-tag-suggestion-hover)}"],encapsulation:2,changeDetection:0});var pt=function(){function e(){h(this,e)}return p(e,null,[{key:"forRoot",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tagFormatter:dt};return{ngModule:e,providers:[{provide:rt,useValue:n.tagFormatter}]}}}]),e}();pt.\u0275mod=Object(f.Oc)({type:pt}),pt.\u0275inj=Object(f.Nc)({factory:function(e){return new(e||pt)},imports:[[g.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&Object(f.wd)(pt,{declarations:[ut],imports:[g.c],exports:[ut]});var ht=function(){function e(n,t,i){var o=this;h(this,e),this.apiService=n,this.activeFormFieldService=t,this.ColorPallete=E.b,this.items=[],this._items=[],this.field_schema_data={},this.onHover$=-1,i.onItemClick().subscribe(function(e){i.getSelectedItem().subscribe(function(n){n.item&&(n.item.selected=!1),e.item.selected=!0}),o.selectField(e.item.data)})}return p(e,[{key:"fields",set:function(e){var n=this;e.forEach(function(e,t){n._items.push({loading:!0}),n.apiService.getFieldSchemaById(e).pipe(Object(O.a)(function(i){var o;n.field_schema_data=i;var r=K.getComponent(i.component_type).title;try{null==(o=i.properties.find(function(e){return"identifier"==e.property_identifier}).property_default_value)&&(o=i.field_id),o.length<1&&(o=i.field_id)}catch(a){o=r}Object(J.a)(null).pipe(Object(Y.a)(E.d)).subscribe(function(i){n._items[t]={title:r,icon:"checkmark",data:e,selected:n.field_schema_id==e,loading:!1}})})).subscribe(function(e){console.log("Fetching")})})}},{key:"ngOnInit",value:function(){var e=this;this.apiService.getFieldSchemaById(this.field_schema_id).pipe(Object(O.a)(function(n){e.field_schema_data=n;var t=K.getComponent(n.component_type).title;try{e.identifier=n.properties.find(function(e){return"identifier"==e.property_identifier}).property_default_value,null==e.identifier&&(e.identifier=n.field_id),e.identifier.length<1&&(e.identifier=n.field_id)}catch(i){e.identifier=t}})).subscribe()}},{key:"selectField",value:function(e){this.activeFormFieldService.publishSelectedField(e)}},{key:"delete",value:function(e){}},{key:"onHover",value:function(e){console.log("onHover",e),this.onHover$=e}}]),e}();ht.ctorParameters=function(){return[{type:j},{type:S},{type:te.s}]},ht.propDecorators={field_schema_id:[{type:f.I,args:["field_id"]}],fields:[{type:f.I,args:["fields"]}]},ht=Object(d.a)([Object(f.n)({selector:"app-field-viewer",template:'<div fxLayout="column">\n\n  <div fxLayout="row">\n\n    <nb-list>\n\n      <nb-list-item [class.selected]="item.data == field_schema_id " (click)="selectField(item.data)"\n        (mouseover)="onHover(index)" (mouseleave)="onHover(-1)"\n        [appLeftBorder]="ColorPallete[index % ColorPallete.length]" [animate]="true"\n        *ngFor="let item of _items; index as index" style="max-width: 100%!important">\n\n        <div fxLayout="row" fxFlex="1 1 calc( 100% - 50px)">\n\n          <div fxFlex fxLayout="column" fxLayoutAlign="start" class="contains">\n\n            <div class="text" fxFlex [class.text-input__loading--line]="item.loading  " [class.half]="item.loading ">\n\n\n              <span class="text" fxFlex>\n                {{ item.title  }}\n\n              </span>\n\n            </div>\n            <div class="text" fxFlex [class.text-input__loading--line]="item.loading " [class.full]="item.loading ">\n              <span class="text" fxFlex>\n                {{ item.data  }}\n              </span>\n            </div>\n\n\n\n\n\n\n          </div>\n\n\n\n        </div>\n\n        <div *ngIf="onHover$ == index" fxLayout="column" fxFlex="50px 50px">\n          <button [class.selected]="item.data == field_schema_id " ghost status="primary" nbButton\n            (click)=" item.loading  = true ">\n            <nb-icon icon="trash-outline" pack="eva"></nb-icon>\n          </button>\n        </div>\n      </nb-list-item>\n\n\n\n    </nb-list>\n  </div>\n\n\n  <div fxLayout="row"   fxLayoutGap="1rem" class="nomargin" fxLayoutAlign="center center">\n\n    <button class="margin" fxFlex nbButton ghost status="success" size="small">\n      <nb-icon icon="plus">\n      </nb-icon>\n      Add new\n\n    </button>\n  </div>\n</div>\n\n\x3c!-- <div fxFlex fxLayout="row">\n  <div fxFlex>\n    <span class="subtitle-2">\n      #{{ ( identifier || field_schema_data.field_id ) }}\n    </span>\n  </div>\n\n  <div fxFlex>\n    <span class="caption-2">\n      {{title}}\n    </span>\n  </div>\n</div> --\x3e\n\n\x3c!-- {{field_schema_data.field_id | json}} --\x3e\n\x3c!-- {{identifier | json}} --\x3e\n',styles:[".subtitle {\n  height: 1.2rem;\n  font-size: 0.8rem;\n  line-height: 1.2rem;\n  /* Needed to make it work */\n}\n\n.contains {\n  overflow: hidden;\n}\n\n.text {\n  height: 1.6rem;\n  font-size: 1rem;\n  line-height: 1.2rem;\n  padding: 0.2rem;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\nspan.text {\n  overflow: hidden;\n}\n\n.text-input__loading--line {\n  height: 1.2rem;\n  line-height: 1.2rem;\n  margin: 0.2rem;\n  padding: 0px;\n  -webkit-animation: pulse 1s infinite ease-in-out;\n  animation: pulse 1s infinite ease-in-out;\n}\n\n.half {\n  width: 50%;\n}\n\n.full {\n  width: 100%;\n}\n\n.text-input__loading div:nth-child(3) {\n  width: 150px;\n}\n\n.text-input__loading div:nth-child(5) {\n  width: 150px;\n}\n\n.text-input__loading div:nth-child(6) {\n  width: 250px;\n}\n\n.text-input__loading div:nth-child(7) {\n  width: 250px;\n}\n\n.text-input__loading div:nth-child(1) {\n  width: 50%;\n}\n\n.text-input__loading div:nth-child(2) {\n  width: 100%;\n}\n\n@-webkit-keyframes pulse {\n  0% {\n    background-color: rgba(165, 165, 165, 0.1);\n  }\n  50% {\n    background-color: rgba(165, 165, 165, 0.4);\n  }\n  100% {\n    background-color: rgba(165, 165, 165, 0.1);\n  }\n}\n\n@keyframes pulse {\n  0% {\n    background-color: rgba(165, 165, 165, 0.1);\n  }\n  50% {\n    background-color: rgba(165, 165, 165, 0.4);\n  }\n  100% {\n    background-color: rgba(165, 165, 165, 0.1);\n  }\n}\n\n.selected {\n  background: #00b887;\n  color: #fff !important;\n}\n\n.nomargin {\n  padding: 0px;\n  margin: 0px;\n}\n\n.margin {\n  padding: 1.2rem !important;\n  margin: 0px;\n}"]})],ht);var ft=function(){function e(n,t){h(this,e),this.componentFactoryResolver=n,this.apiService=t,this._field_schema_id$=new x.a(void 0),this._field_schema_id=this._field_schema_id$.asObservable(),this.properties=new x.a([]),this.propertyDiff=new L.a,this.field_schema_data={}}return p(e,[{key:"setFieldId",set:function(e){this._field_schema_id$.next(e)}},{key:"render",value:function(e,n){var t=this,i=this.componentFactoryResolver.resolveComponentFactory(fe),o=this.componentTemplate;o.clear();var r=o.createComponent(i),a=this.propertyDiff.asObservable().pipe(Object(O.a)(function(e){r.instance.onPropertyChange(e)})).subscribe();r.instance.field_id=e,r.onDestroy(function(e){a.unsubscribe(),t.properties.next([])}),r.instance.properties$.asObservable().pipe(Object(w.a)(function(e){return e.forEach(function(t,i){var o=n.find(function(e){return e.property_identifier==t.property_identifier&&e.property_tyoe==t.property_tyoe});o&&(e[i].property_default_value=o.property_default_value)}),e})).subscribe(function(e){t.properties.next(e)}),r.instance.destroy$.pipe(Object(w.a)(function(e){})).pipe(Object(k.a)(function(e){return 1==e.deleted})).subscribe(function(e){console.log("Destroying permanently"),r.destroy()})}},{key:"ngOnInit",value:function(){var e=this;this._field_schema_id.pipe(Object(k.a)(function(e){return!!e}),Object(w.a)(function(n){return e.apiService.getFieldSchemaById(n).pipe(Object(w.a)(function(n){return e.field_schema_data=n,e.type=K.getComponent(n.component_type).title,n.properties}),Object(w.a)(function(e){return null==e?[]:e}),Object(O.a)(function(t){console.log("ngAfterViewInit",t),e.render(n,t)}))}),Object(ge.a)(function(e){return e})).subscribe()}},{key:"onPropertyChange",value:function(e){var n=this;this.properties.pipe(Object(Je.a)(1),Object(w.a)(function(n){return n.forEach(function(t,i){t.property_identifier==e.property_identifier&&(n[i]=e)}),n}),Object(O.a)(function(t){n.properties.next(t),n.propertyDiff.next(e)})).subscribe()}},{key:"save",value:function(e){var n=this;return this.properties.asObservable().pipe(Object(k.a)(function(e){return!!e}),Object(Je.a)(1),Object(w.a)(function(t){return n.apiService.saveFieldProperties(e,t)}),Object(ge.a)(function(e){return e}),Object(O.a)(function(e){console.log("onSave"),console.debug(e)}))}}]),e}();ft.ctorParameters=function(){return[{type:f.p},{type:j}]},ft.propDecorators={componentTemplate:[{type:f.qb,args:["componentTemplate",{read:f.sb,static:!0}]}],properties:[{type:f.U,args:["getProperties"]}],setFieldId:[{type:f.I,args:["field_id"]}]},ft=Object(d.a)([Object(f.n)({selector:"app-field-editor",template:'\n<div  fxFlex="1 1 100%" >\n\n\n    <ng-template  #componentTemplate></ng-template>\n</div>\n\n',styles:[""]})],ft);var gt=function(){function e(){h(this,e),this.nodes=[{label:"Business"},{label:"MX Player",expandable:!0,expanded:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3",expanded:!1,expandable:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}]},{label:"Node 4",expandable:!0,expanded:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}]}]},{label:"Gaana"},{label:"Dineout",children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}],expandable:!0}]}return p(e,[{key:"ngOnInit",value:function(){}}]),e}();gt.ctorParameters=function(){return[]},gt=Object(d.a)([Object(f.n)({selector:"app-business",template:'<ngx-tree>\n  <ngx-tree-node [label]="\'Node 2\'" [expandable]="true" [expanded]="true" [selectable]="true">\n    <ngx-tree>\n      <ngx-tree-node [label]="\'Node 1\'"></ngx-tree-node>\n      <ngx-tree-node [label]="\'Node 2\'"></ngx-tree-node>\n      <ngx-tree-node [label]="\'Node 3\'"></ngx-tree-node>\n    </ngx-tree>\n  </ngx-tree-node>\n\n\n  <ngx-tree-node [label]="\'Node 3\'" [selectable]="true"></ngx-tree-node>\n\n\n  <ngx-tree-node [label]="\'Node 4\'" [selectable]="true" [expandable]="true" [expanded]="false">\n    <ngx-tree>\n      <ngx-tree-node [label]="\'Node 1\'"></ngx-tree-node>\n      <ngx-tree-node [label]="\'Node 2\'" [expandable]="true" [expanded]="true" [disabled]="true">\n        <ngx-tree>\n          <ngx-tree-node [label]="\'Node 1\'"></ngx-tree-node>\n          <ngx-tree-node [label]="\'Node 2\'"></ngx-tree-node>\n          <ngx-tree-node [label]="\'Node 3\'"></ngx-tree-node>\n        </ngx-tree>\n      </ngx-tree-node>\n      <ngx-tree-node [label]="\'Node 3\'"></ngx-tree-node>\n\n      <ngx-input style="margin-left: 20px" size="sm" label="Project name" hint="Create a new project"></ngx-input>\n\n\n    </ngx-tree>\n\n\n  </ngx-tree-node>\n\n\n  <ngx-tree-node [label]="\'Node 1\'" [selectable]="true"></ngx-tree-node>\n\n\n  <ngx-tree-node [label]="\'Create Business\'" [selectable]="true"></ngx-tree-node>\n  <ngx-input style="margin-left: 20px" size="sm" label="Business name" hint="Create a new business"></ngx-input>\n  \x3c!-- <input  placeholder="Create Business"  type="text" class="form-input"  /> --\x3e\n  \x3c!-- <input placeholder="Create Business" nbInput fieldSize="tiny" style="margin-left: 20px" value=""   status="success"> --\x3e\n\n</ngx-tree>\n\n<ngx-overlay #overlay >\n    \n  <span style="display: inline-block; line-height:\n    14px; vertical-align: middle;">\n    <h3>Click anywhere to return</h3>\n\n    <ngx-input style="margin-left: 20px" size="sm" label="Business name" hint="Create a new business"></ngx-input>\n\n\n  </span>\n</ngx-overlay>\n<button class="btn\n    btn-primary" (click)="overlay.visible = true">Show Overlay</button>\n',styles:[""]})],gt);var bt={provide:m.h,useExisting:Object(f.wb)(function(){return mt}),multi:!0},mt=function(){function e(t){var i=this;h(this,e),this.dialogService=t,this.dialogVis=!0,this.iconSelected=!0,this.icons=["activity-outline","alert-circle-outline","alert-triangle-outline","archive-outline","arrow-circle-down-outline","arrow-circle-up-outline","arrow-circle-left-outline","arrow-circle-right-outline","arrow-down-outline","arrow-up-outline","arrow-left-outline","arrow-right-outline","arrow-downward-outline","arrow-upward-outline","arrow-back-outline","arrow-forward-outline","arrow-ios-downward-outline","arrow-ios-upward-outline","arrow-ios-back-outline","arrow-ios-forward-outline","arrowhead-down-outline","arrowhead-up-outline","arrowhead-left-outline","arrowhead-right-outline","at-outline","attach-2-outline","attach-outline","award-outline","backspace-outline","bar-chart-2-outline","bar-chart-outline","battery-outline","behance-outline","bell-off-outline","bell-outline","bluetooth-outline","book-open-outline","book-outline","bookmark-outline","briefcase-outline","browser-outline","brush-outline","bulb-outline","calendar-outline","camera-outline","car-outline","cast-outline","charging-outline","checkmark-circle-2-outline","checkmark-circle-outline","checkmark-outline","checkmark-square-2-outline","checkmark-square-outline","chevron-down-outline","chevron-left-outline","chevron-right-outline","chevron-up-outline","clipboard-outline","clock-outline","close-circle-outline","close-outline","close-square-outline","cloud-download-outline","cloud-upload-outline","code-download-outline","code-outline","collapse-outline","color-palette-outline","color-picker-outline","compass-outline","copy-outline","corner-down-left-outline","corner-down-right-outline","corner-left-down-outline","corner-left-up-outline","corner-right-down-outline","corner-right-up-outline","corner-up-left-outline","corner-up-right-outline","credit-card-outline","crop-outline","cube-outline","diagonal-arrow-left-down-outline","diagonal-arrow-left-up-outline","diagonal-arrow-right-down-outline","diagonal-arrow-right-up-outline","done-all-outline","download-outline","droplet-off-outline","droplet-outline","edit-2-outline","edit-outline","email-outline","expand-outline","external-link-outline","eye-off-2-outline","eye-off-outline","eye-outline","facebook-outline","file-add-outline","file-outline","file-remove-outline","file-text-outline","film-outline","flag-outline","flash-off-outline","flash-outline","flip-outline","flip-2-outline","folder-add-outline","folder-outline","folder-remove-outline","funnel-outline","gift-outline","github-outline","globe-2-outline","globe-outline","google-outline","grid-outline","hard-drive-outline","hash-outline","headphones-outline","heart-outline","home-outline","image-outline","inbox-outline","info-outline","keypad-outline","layers-outline","layout-outline","link-2-outline","link-outline","linkedin-outline","list-outline","loader-outline","lock-outline","log-in-outline","log-out-outline","map-outline","maximize-outline","menu-2-outline","menu-arrow-outline","menu-outline","message-circle-outline","message-square-outline","mic-off-outline","mic-outline","minimize-outline","minus-circle-outline","minus-outline","minus-square-outline","monitor-outline","moon-outline","more-horizontal-outline","more-vertical-outline","move-outline","music-outline","navigation-2-outline","navigation-outline","npm-outline","options-2-outline","options-outline","pantone-outline","paper-plane-outline","pause-circle-outline","people-outline","percent-outline","person-add-outline","person-delete-outline","person-done-outline","person-outline","person-remove-outline","phone-call-outline","phone-missed-outline","phone-off-outline","phone-outline","pie-chart-outline","pin-outline","play-circle-outline","plus-circle-outline","plus-outline","plus-square-outline","power-outline","pricetags-outline","printer-outline","question-mark-circle-outline","question-mark-outline","radio-button-off-outline","radio-button-on-outline","radio-outline","recording-outline","refresh-outline","repeat-outline","rewind-left-outline","rewind-right-outline","save-outline","scissors-outline","search-outline","settings-2-outline","settings-outline","share-outline","shake-outline","shield-off-outline","shield-outline","shopping-bag-outline","shopping-cart-outline","shuffle-2-outline","shuffle-outline","skip-back-outline","skip-forward-outline","slash-outline","smartphone-outline","smiling-face-outline","speaker-outline","square-outline","star-outline","stop-circle-outline","sun-outline","swap-outline","sync-outline","text-outline","thermometer-minus-outline","thermometer-outline","thermometer-plus-outline","toggle-left-outline","toggle-right-outline","trash-2-outline","trash-outline","trending-down-outline","trending-up-outline","tv-outline","twitter-outline","umbrella-outline","undo-outline","unlock-outline","upload-outline","video-off-outline","video-outline","volume-down-outline","volume-mute-outline","volume-off-outline","volume-up-outline","wifi-off-outline","wifi-outline"],this.evaicons=new x.a(void 0).pipe(Object(ge.a)(function(e){return Object(J.a)(n(i.icons))})).pipe(Object(O.a)(function(e){console.log("evaIcons",e)}),Object(Y.a)(0)),this.onChange=function(e){},this.onTouched=function(){},this.disabled=!1}return p(e,[{key:"selectIcon",value:function(e){this.selectedIcon=e,this.setLevel(this.selectedIcon)}},{key:"toggleSelection",value:function(){this.iconSelected=!this.iconSelected}},{key:"isActive",value:function(e){return e===this.selectedIcon}},{key:"setLevel",value:function(e){this.selectedIcon=e,this.onChange(this.selectedIcon),this.onTouched()}},{key:"writeValue",value:function(e){this.selectedIcon=e}},{key:"registerOnChange",value:function(e){console.log("debugger",e),this.onChange=e}},{key:"registerOnTouched",value:function(e){console.log("debugger",e),this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"ngOnInit",value:function(){console.log("icon-selecto",this.selectedIcon)}},{key:"open",value:function(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}}]),e}();mt.ctorParameters=function(){return[{type:te.j}]},mt.propDecorators={dialogTpl:[{type:f.qb,args:["dialogTmpl",{static:!1}]}]},mt=Object(d.a)([Object(f.n)({selector:"app-icon-selector",template:'<div fxLayout="column">\n\n  <div fxFlex *ngIf="selectedIcon && selectedIcon != \'\' ; else chooseIcon">\n  \n    <button (click)="open(dialog)" fxFlex outline nbButton shape="round" size="tiny" status="primary">Change\n      Icon\n\n      <nb-icon [icon]="selectedIcon"></nb-icon>\n\n    </button>\n\n  </div>\n\n\n  <ng-template #chooseIcon>\n    <button (click)="open(dialog)" fxFlex outline nbButton shape="round" size="tiny" status="basic">Choose\n      Icon\n    </button>\n  </ng-template>\n\n</div>\n\n\n<ng-template #dialog let-data let-ref="dialogRef">\n  <nb-card size="medium" fxFlex="1 1 800px">\n    <nb-card-header>\n\n      <div fxFlex fxLayoutAlign="start center">\n        <span>\n          Choose Icon\n\n        </span>\n\n        <div fxFlex fxLayoutAlign="end center">\n          <ng-container *ngIf="selectedIcon">\n            <button (click)="ref.close()" outline nbButton status="success">\n              <nb-icon [icon]="selectedIcon"></nb-icon>\n\n              Save\n            </button>\n          </ng-container>\n        </div>\n\n      </div>\n    </nb-card-header>\n    <nb-card-body fxLayout="row wrap" fxLayoutAlign="center center">\n\n\n\n      <ng-container *ngIf="evaicons | async as evaicons  ; else progress ">\n\n        <ng-container *ngFor=" let icon of evaicons   ">\n\n\n          <button [outline]=" selectedIcon === icon " [ghost]="selectedIcon !== icon" (click)="selectIcon(icon)"\n            nbButton [status]=" selectedIcon !== icon ? \'basic\': \'success\' ">\n            <nb-icon [icon]="icon"></nb-icon>\n          </button>\n        </ng-container>\n      </ng-container>\n\n\n      <ng-template #progress>\n\n\n        <ngx-progress-spinner mode="indeterminate" color="#1483FF" [value]="3" [total]="100" [strokeWidth]="5">\n        </ngx-progress-spinner>\n\n      </ng-template>\n\n\n\n    </nb-card-body>\n\n    <nb-card-footer>\n\n      <div fxFlex fxLayoutAlign="end center">\n\n        <ng-container *ngIf="selectedIcon">\n\n\n          <button (click)="selectIcon(undefined)" nbButton status="danger" ghost>\n            Remove Icon\n          </button>\n\n\n        </ng-container>\n\n\n\n      </div>\n\n\n\n\n\n    </nb-card-footer>\n\n  </nb-card>\n</ng-template>\n',providers:[bt],styles:[""]})],mt);var vt=a("IwCi"),yt=[{path:"",component:nt}],_t=function e(){h(this,e)};_t=Object(d.a)([Object(f.N)({declarations:[be,_,D,C,I,B,U,z,M,G,H,q,fe,_e,V,xe,ke,Ge,$e,Yn,et,nt,tt,it,ht,ft,gt,mt,W,Q],exports:[be,_,D,C,I,B,U,z,M,G,H,q,fe,V,ye.j],imports:[te.e,me.a,g.c,te.y,te.f,te.p,te.e,te.q,te.o,te.n,te.g,m.m,te.l,te.u,te.A,P.c,Me,te.h,m.f,te.c,te.b,te.c,te.z.forRoot(),he.forRoot(),te.r.forRoot(),te.i.forChild(),ye.j,vt.a,Jn,te.t,te.H,te.v,pt.forRoot(),te.r,te.a,ye.j.forChild(yt),te.E.forRoot({name:"dark"})],providers:[N,j,{provide:P.a,useClass:He.a,multi:!0},S],entryComponents:[be,_,D,C,I,B,U,z,M,G,H,q,fe,V,ft]})],_t)}}])}();